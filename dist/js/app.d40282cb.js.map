{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Popup.vue?07a3","webpack:///./src/components/Root.vue?22df","webpack:///./src/components/Heading.vue?abfb","webpack:///./src/components/Root.vue?58b3","webpack:///./src/App.vue","webpack:///./src/components/Root.vue","webpack:///./src/assets/d3/index.js","webpack:///./src/core/utils.js","webpack:///./src/components/ElectionPeriod.vue","webpack:///./src/core/CONSTANTS.js","webpack:///./src/core/SeatChart.js","webpack:///./src/components/ElectionPeriod.vue?94b7","webpack:///./src/components/Popup.vue","webpack:///./src/core/forceClusterCollision.js","webpack:///./src/core/RingChart.js","webpack:///./src/core/MinistryLegend.js","webpack:///./src/components/MinistryButtonGroup.vue","webpack:///./src/components/MinistryButton.vue","webpack:///./src/core/MinistryChart.js","webpack:///./src/components/MinistryButton.vue?f4bf","webpack:///./src/components/MinistryButtonGroup.vue?b94a","webpack:///./src/components/Popup.vue?a3de","webpack:///./src/components/Heading.vue","webpack:///./src/components/Heading.vue?1a61","webpack:///./src/components/MetaInfo.vue","webpack:///./src/components/MetaInfo.vue?3bf0","webpack:///./src/components/LegendText.vue","webpack:///./src/core/ParliamentLegend.js","webpack:///./src/components/LegendText.vue?8007","webpack:///./src/components/Root.vue?7da1","webpack:///./src/App.vue?dfb6","webpack:///./src/main.js","webpack:///./src/assets/style/base.scss","webpack:///./src/assets/style/_global.scss","webpack:///./src/components/LegendText.vue?a9db","webpack:///./src/components/MinistryButtonGroup.vue?98d5","webpack:///./src/components/MetaInfo.vue?1aeb","webpack:///./src/components/MinistryButton.vue?c126","webpack:///./src/components/ElectionPeriod.vue?7b97"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","src-requests","src-requests-per-head","src-elections","class","href","target","classes","tilesBundestag","period","body","term","dates","has-ended","hasEnded","period-num","periodNum","n-requests","nRequests","requestsPerHead","elections","onTop","tilesLandtage","cell","popup","srcRequests","onFlat","csv","select","selectAll","group","groups","rollup","rollups","range","sum","cumsum","max","descending","ascending","difference","scaleLinear","scaleBand","scaleOrdinal","scalePoint","scaleSqrt","schemePaired","pointRadial","arc","timeDay","timeMonth","timeMonths","timeParse","timeFormat","format","forceSimulation","forceX","forceY","quadtree","transition","normalize","str","replace","toLowerCase","displayTimeRange","formatTime","d3","years","values","map","join","getTermId","computeSeatPositions","seatsPartition","nSeats","config","seats","rows","toBePlaced","rowR","innerRadius","nbR","Math","floor","PI","seatRadius","spacing","row","radius","nb","seatsPlaced","seatsPlacedOnRow","dtheta","min","theta","seat","x","cos","y","sin","zones","outerRadius","sort","a","b","seatsColored","forEach","party","id","startAngle","nbSeats","partyName","endAngle","selected","onClick","seatChartId","PARTY_GROUPS","SORTED_PARTIES","COLOR","Map","color","polBrown","polBlue","polOrange","polYellow","polBlack","polRed","polGray","polGreen","polPurple","LIGHT_COLOR","polBrownLight","polBlueLight","polOrangeLight","polYellowLight","polBlackLight","polRedLight","polGrayLight","polGreenLight","polPurpleLight","LABEL_POSITIONS","SeatChart","selector","labelPositions","this","svg","width","height","marginTop","fontSize","scales","categories","requestsPerHeadMap","undefined","Array","from","keys","reset","setUpScales","prepareData","setUpSVG","drawAxis","drawData","remove","minOpacity","domain","v","findIndex","isOpposition","circles","filter","nRows","parties","includes","e","labelStartAngle","labelRadius","append","attr","g","gray300","_","style","text","groupedCircles","counts","partyCircles","nRequestsPerDay","category","gray100","on","event","nRequestsPerMonth","round","line1","line2","topMinistry","f","topMinistryPercentage","topMinistryCount","left","innerWidth","pageX","pageY","html","props","String","Boolean","Number","emits","seatChart","created","addEventListener","onResize","mounted","chartDiv","getChartDiv","has","cfg","getChartConfig","draw","computed","col","methods","$el","querySelector","$emit","render","__scopeId","oppositionParties","rulingParties","ministries","sortedParties","onSelected","ringChartId","forceClusterCollision","nodes","radii","strength","iterations","clusterPadding","vx","vy","constant","jiggle","force","tree","node","xi","yi","ri","ri2","k","visitAfter","prepare","index","visit","quad","x0","y0","x1","y1","rj","cluster","sqrt","initialize","arguments","RingChart","formats","internalFormat","dateOptions","short","month","long","year","date","day","maxValue","requests","bins","months","start","end","monthKeys","margin","circleRadius","questionsRadius","questionSize","unit","size","trunc","cf","drawAxes","drawInfo","drawLegend","setUpGrid","offset","steps","markers","dx","labels","label","legend","black","resetInteractions","outliers","console","warn","groupedRequests","count","flatMap","split","lastMonth","xAxis","grid","isOrigin","isVisible","getMonth","isMajor","tick","classed","endDate","mapRadialDate","toLocaleDateString","startDate","xGrid","type","angle","focusX","random","focusY","requestId","circle","url","minor","major","written","people","inquiringPeople","p1","p2","ps","reference","title","stopPropagation","simulation","ticked","onMouseOver","drawQuestions","bin","point","outer","isInner","inner","concat","enter","update","u","duration","forward","MinistryLegend","ministry","active","selectedMinistry","chart","showColors","updateChartColor","chartId","MinistryChart","maxRequests","partyCount","updated","hideColors","components","MinistryButton","MinistryButtonGroup","ringChart","document","onKeyUp","fetchRequestsData","legendDiv","ringChartDiv","drawSkeleton","clientHeight","updateMinistry","selectedRequests","loading","fill","prepareParties","getPartyCounts","dateId","parseTime","asArray","trim","published_at","interpellation_type","html_url","inquiring_parties_wikidata","inquiring_people_wikidata","answering_ministries_wikidata","partyCounts","toGroup","partiesToGroup","backgroundColor","legendLines","line","ParliamentLegend","scale","unshift","Heading","MetaInfo","LegendText","ElectionPeriod","Popup","srcElections","srcRequestsPerHead","background","tiles","tileMap","fetchElectionsData","fetchRequestsPerHeadData","keyFunc","electionsMap","groupedElections","electionResults","total","periods","tile","flat","period_num","person","is_opposition","n_requests","n_requests_per_day","n_requests_per_month","top_ministry","top_ministry_count","start_date","end_date","Date","opposition","Root","createApp","App","mount"],"mappings":"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","file":"js/app.d40282cb.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/kleine-anfragen-visualised/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Popup.vue?vue&type=style&index=0&id=1a278433&lang=scss&scoped=true\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"black\":\"#22262a\",\"gray50\":\"#FAFAFA\",\"gray100\":\"#F4F4F5\",\"gray200\":\"#E4E4E7\",\"gray300\":\"#D4D4D8\",\"gray400\":\"#A1A1AA\",\"gray500\":\"#71717A\",\"gray600\":\"#52525B\",\"gray700\":\"#3F3F46\",\"gray800\":\"#27272A\",\"gray900\":\"#18181B\",\"polBrown\":\"#bc8429\",\"polBrownLight\":\"#e8d4b4\",\"polBlue\":\"#34a3d2\",\"polBlueLight\":\"#b8dfef\",\"polOrange\":\"#f17204\",\"polOrangeLight\":\"#facea7\",\"polYellow\":\"#f6bb00\",\"polYellowLight\":\"#fce7a6\",\"polBlack\":\"#373737\",\"polBlackLight\":\"#b9b9b9\",\"polRed\":\"#db4240\",\"polRedLight\":\"#f2bdbc\",\"polGray\":\"#64748B\",\"polGrayLight\":\"#c9ced6\",\"polGreen\":\"#4ba345\",\"polGreenLight\":\"#c0dfbe\",\"polPurple\":\"#96276e\",\"polPurpleLight\":\"#dab3cc\"};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Heading.vue?vue&type=style&index=0&id=ac16cc70&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Root.vue?vue&type=style&index=0&id=86dd7a9c&lang=scss\"","<template>\n  <root\n    src-requests=\"./data/requests\"\n    src-requests-per-head=\"./data/requests-per-head.csv\"\n    src-elections=\"./data/elections.csv\" />\n</template>\n\n<script>\nimport Root from './components/Root.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    Root,\n  },\n};\n</script>\n","<template>\n  <main :class=classes>\n    <heading />\n    <meta-info />\n\n    <div class=\"top\">\n      <div class=\"top--text\">\n        <div class=\"p\">\n          Kleine Anfragen sind ein Instrument der <b>parlamentarischen Kontrolle</b>.\n          Sie ermöglichen\n          Abgeordneten eines Parlamentes der Regierung Fragen zu stellen, die dann zeitnah\n          von dieser beantwortet werden müssen. Die Antworten werden auf den 16+1\n          Parlamentsdokumentationssystemen der Landesparlamente und des Bundestages\n          veröffentlicht.\n          Die Plattform <a href=\"https://kleineanfragen.de/\" target=\"_blank\"><b>kleineAnfragen</b></a>\n          der <a href=\"https://okfn.de/\" target=\"_blank\">Open Knowledge Foundation</a>\n          nutzt diese Dokumentationssysteme, um Anfragen und Antworten aus allen Parlamenten\n          zusammenzutragen. Eine maschinelle\n          Auswertung macht dabei die Anfragen leicht\n          zugänglich und ermöglicht das Durchsuchen und Verlinken. Leider wurde das Projekt zum\n          31.12.2020 <a href=\"https://kleineanfragen.de/info/stilllegung\" target=\"_blank\">eingestellt</a>.\n          Was bleibt sind <b>mehr als 100.000 dokumentierte Anfragen</b>,\n          die hier visuell aufbereitet sind.\n        </div>\n        <div class=\"p\">\n          Die von <a href=\"https://kleineanfragen.de/\" target=\"_blank\">kleineAnfragen</a>\n          gesammelten Daten haben immer wieder dazu beigetragen, Interessantes herauszufinden.\n          Zum Beispiel konnte <a href=\"https://www.zeit.de/index\" target=\"_blank\">\n          ZEIT ONLINE</a> mit Hilfe\n          einer Reihe von Anfragen an die Bundesregierung eine\n          <a href=\"https://www.zeit.de/mobilitaet/2014-09/deutsche-bahn-bruecken-zustand\" target=\"_blank\">\n          interaktive Karte über den Zustand von Bahnbrücken in Deutschland</a> erstellen.\n          Auch das <a href=\"https://lab.technologiestiftung-berlin.de\" target=\"_blank\">\n          Ideation & Prototyping Lab</a> der\n          <a href=\"https://www.technologiestiftung-berlin.de/de/startseite/\" target=\"_blank\">\n          Technologiestiftung Berlin</a> hat\n          schriftliche Anfragen aus dem Berliner Abgeordnetenhaus nutzen können, um zu untersuchen\n          <a href=\"https://lab.technologiestiftung-berlin.de/projects/kleine-anfragen/de/\" target=\"_blank\">\n          welches Potenzial für Open Data in den Anfragen steckt</a>.\n        </div>\n        <div class=\"p\">\n          Auf dieser Webseite, die ebenfalls auf den Daten von\n          <a href=\"https://kleineanfragen.de/\" target=\"_blank\">kleineAnfragen</a> basiert,\n          steht nicht der Erkenntnisgewinn im Bezug auf spezifische Sachverhalte im Vordergrund.\n          Vielmehr bietet die <b>visuelle Aufbereitung</b> einen spielerischen\n          Zugang zu den Daten,\n          der das Entdecken von Anfragen lebending machen soll.\n          Eine Parlamentsgrafik zeigt wie häufig einzelne Abgeordnete in einer\n          Legislaturperiode kleine Anfragen gestellt haben. Dabei ist auffällig,\n          dass Anfragen vor allem ein Instrument der <b>Opposition</b> sind, obwohl in\n          einigen Bundesländern nicht wenige Anfragen auch von Abgeordneten der\n          Regierungsparteien gestellt wurden (z.B. in Berlin). Die Aktivität eines:einer einzelnen\n          Abgeordneten ist wie folgt kategorisiert:\n          <legend-text />\n          Ein Klick auf eine Parlamentsgrafik ermöglicht dann eine tiefere Auseinandersetzung\n          mit allen Anfragen, die während einer Legislaturperiode gestellt wurden.\n        </div>\n      </div>\n\n      <div class=\"warning\">\n        Diese Visualiserung wurde nicht für Geräte mit kleinen Bildschirmen entwickelt.\n        Wenn du mit den Grafiken interagieren möchtest, öffne diese Webseite an einem Desktop.\n      </div>\n\n      <div\n        class=\"top--chart election-period-wrapper\"\n        v-for=\"(period, i) in tilesBundestag\"\n        :key=i\n      >\n        <election-period\n          :key=period.name\n          :name=period.name\n          :body=period.body\n          :term=period.term\n          :dates=period.dates\n          :has-ended=period.hasEnded\n          :period-num=period.periodNum\n          :n-requests=period.nRequests\n          :requestsPerHead=period.requestsPerHead\n          :elections=period.elections\n          @top=\"onTop\" />\n      </div>\n    </div>\n\n    <div class=\"grid-landtage\">\n      <div class=\"row-header\">\n        <div>AKTUELLE LEGISLATURPERIODE</div>\n        <div>LETZTE LEGISLATURPERIODE</div>\n        <div>VORLETZTE LEGISLATURPERIODE</div>\n      </div>\n      <div class=\"tiles tiles-landtage\">\n        <election-period\n          v-for=\"period in tilesLandtage\"\n          :key=period.name\n          :cell=period.cell\n          :name=period.name\n          :body=period.body\n          :term=period.term\n          :dates=period.dates\n          :has-ended=period.hasEnded\n          :period-num=period.periodNum\n          :n-requests=period.nRequests\n          :requestsPerHead=period.requestsPerHead\n          :elections=period.elections\n          @top=\"onTop\" />\n      </div>\n    </div>\n  </main>\n\n  <transition name=\"scale\">\n    <popup\n      v-if=\"popup\"\n      :name=popup.key\n      :body=popup.body\n      :term=popup.term\n      :dates=popup.dates\n      :has-ended=popup.hasEnded\n      :srcRequests=popup.srcRequests\n      :elections=popup.elections\n      @close=\"onFlat\" />\n  </transition>\n\n  <transition name=\"fade\">\n    <div\n      v-if=\"popup\"\n      class=\"overlay\"\n      @click=\"onFlat\" />\n  </transition>\n\n  <div class=\"tooltip tooltip-question\" />\n  <div class=\"tooltip tooltip-seat\" />\n</template>\n\n<script>\nimport d3 from '@/assets/d3';\n\nimport { getTermId } from '@/core/utils';\n\nimport ElectionPeriod from './ElectionPeriod.vue';\nimport Popup from './Popup.vue';\n\nimport Heading from './Heading.vue';\nimport MetaInfo from './MetaInfo.vue';\nimport LegendText from './LegendText.vue';\n\nexport default {\n  name: 'Root',\n  components: {\n    Heading,\n    MetaInfo,\n    LegendText,\n    ElectionPeriod,\n    Popup,\n  },\n  props: {\n    srcRequests: String,\n    srcElections: String,\n    srcRequestsPerHead: String,\n  },\n  computed: {\n    classes() {\n      return {\n        background: this.popup,\n      };\n    },\n  },\n  data() {\n    return {\n      requests: [],\n      elections: [],\n      tiles: [],\n      tilesBundestag: [],\n      tilesLandtage: [],\n      tileMap: null,\n      popup: null,\n    };\n  },\n  async created() {\n    await this.fetchElectionsData();\n    await this.fetchRequestsPerHeadData();\n\n    const keyFunc = (d) => getTermId(d.body, d.term);\n    const electionsMap = d3.group(this.elections, keyFunc);\n    const requestsPerHeadMap = d3.group(this.requestsPerHead, keyFunc);\n\n    const groupedElections = Array.from(electionsMap)\n      .map(([key, electionResults]) => {\n        const {\n          body, term, dates, hasEnded, periodNum, nRequests: total,\n        } = electionResults[0];\n        const id = getTermId(body, term);\n\n        return {\n          key,\n          name: id,\n          body,\n          term,\n          dates,\n          hasEnded,\n          periodNum,\n          nRequests: total,\n          elections: electionResults.map(({\n            party, seats, isOpposition,\n          }) => ({ party, seats, isOpposition })),\n          requestsPerHead: requestsPerHeadMap.get(key).map(({\n            name, party, isOpposition, nRequests, nRequestsPerDay,\n            nRequestsPerMonth, topMinistry, topMinistryCount,\n          }) => ({\n            name,\n            party,\n            isOpposition,\n            nRequests,\n            nRequestsPerDay,\n            nRequestsPerMonth,\n            topMinistry,\n            topMinistryCount,\n          })),\n          srcRequests: `${this.srcRequests}/requests-${id}.csv`,\n        };\n      });\n\n    this.tiles = d3.groups(groupedElections, (d) => d.body)\n      .map(([body, periods]) => ({\n        body,\n        periods: periods\n          .sort((a, b) => d3.ascending(a.periodNum, b.periodNum)),\n      }))\n      .sort((a, b) => d3.ascending(a.body, b.body));\n    this.tileMap = d3.rollup(groupedElections, (v) => v[0], (d) => d.name);\n\n    this.tilesBundestag = this.tiles.filter((d) => d.body === 'Bundestag')[0].periods;\n    this.tilesLandtage = this.tiles\n      .filter((d) => d.body !== 'Bundestag')\n      .map(({ periods }, row) => periods.map((d) => {\n        const tile = d;\n        tile.cell = { row: row + 1, col: tile.periodNum };\n        return tile;\n      })).flat();\n  },\n  methods: {\n    async fetchRequestsPerHeadData() {\n      this.requestsPerHead = await d3.csv(this.srcRequestsPerHead, (d) => ({\n        body: d.body,\n        term: d.term,\n        periodNum: +d.period_num,\n        name: d.person,\n        party: d.party,\n        isOpposition: d.is_opposition.toLowerCase() === 'true',\n        nRequests: +d.n_requests,\n        nRequestsPerDay: +d.n_requests_per_day,\n        nRequestsPerMonth: +d.n_requests_per_month,\n        topMinistry: d.top_ministry,\n        topMinistryCount: +d.top_ministry_count,\n      }));\n    },\n    async fetchElectionsData() {\n      const parseTime = d3.timeParse('%d/%m/%Y');\n      this.elections = await d3.csv(this.srcElections, (d) => ({\n        body: d.body,\n        term: d.term,\n        dates: {\n          start: parseTime(d.start_date),\n          end: d.end_date ? parseTime(d.end_date) : new Date(2020, 11, 31),\n        },\n        hasEnded: d.end_date !== '',\n        periodNum: +d.period_num,\n        party: d.party,\n        seats: +d.seats,\n        isOpposition: d.opposition.toLowerCase() === 'true',\n        nRequests: +d.n_requests,\n      }));\n    },\n    onTop(key) {\n      this.popup = this.tileMap.get(key);\n    },\n    onFlat() {\n      this.popup = null;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/style/global';\n\nmain {\n  padding: 2 * $spacing;\n  max-width: $bp-2xl;\n  margin: 0 auto;\n  transition: filter 0.2s ease;\n\n  &.background {\n    filter: blur(4px);\n    transition: filter 0.2s ease;\n    overflow: hidden;\n  }\n\n  @include max-width($bp-md) {\n    padding: $spacing;\n  }\n\n  // @include max-width($bp-2xl) {\n  //   background-color: red;\n  // }\n\n  // @include max-width($bp-xl) {\n  //   background-color: orangered;\n  // }\n\n  // @include max-width($bp-lg) {\n  //   background-color: orange;\n  // }\n\n  // @include max-width($bp-md) {\n  //   background-color: gold;\n  // }\n\n  // @include max-width($bp-sm) {\n  //   background-color: khaki;\n  // }\n\n  // @include max-width($bp-2sm) {\n  //   background-color: lightgreen;\n  // }\n}\n\n.warning {\n  border-radius: $border-radius-weak;\n  border: 5px solid $primary;\n  background-color: $primary-dark;\n  color: white;\n  padding: $spacing / 2;\n  margin: $spacing auto;\n  display: none;\n  line-height: 1.5;\n\n  @include max-width($bp-lg) {\n    display: block;\n  }\n}\n\n.top {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-template-rows: repeat(2, 1fr);\n  grid-auto-flow: dense;\n  gap: 2 * $spacing;\n  padding: 2 * $spacing 0;\n\n  @include max-width($bp-xl) {\n    display: block;\n    padding-bottom: 0;\n  }\n\n  .top--chart {\n    grid-column: 1;\n\n    &:nth-of-type(1) {\n      grid-row: 2;\n    }\n\n    &:nth-of-type(2) {\n      grid-row: 1;\n    }\n\n    @include max-width($bp-xl) {\n      margin: $spacing 0;\n    }\n  }\n\n  .top--text {\n    grid-column: 2;\n    grid-row: 1 / 3;\n\n    display: grid;\n    justify-content: space-between;\n    gap: $spacing;\n\n    line-height: 1.5;\n\n    @include max-width($bp-xl) {\n      max-width: $text-max-width;\n      margin: 0 auto 2 * $spacing;\n    }\n  }\n}\n\n.grid-landtage {\n  .row-header {\n    position: sticky;\n    top: 0;\n    margin: $spacing 0;\n    padding: $spacing 0;\n    background-color: white;\n    border-radius: $border-radius-weak;\n    text-align: center;\n    font-family: 'Quicksand', Helvetica, Arial, sans-serif;\n    font-weight: bold;\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n\n    @include max-width($bp-xl) {\n      display: none;\n    }\n  }\n\n  .tiles-landtage {\n    display: grid;\n    grid-template-rows: repeat(15, 1fr);\n    grid-template-columns: repeat(3, 1fr);\n    gap: $spacing;\n\n    @include max-width($bp-xl) {\n      grid-template-rows: auto;\n      grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));\n    }\n\n    @include max-width($bp-2sm) {\n      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n    }\n\n    @for $i from 1 through 3 {\n      .col-#{$i} {\n        grid-column: #{$i};\n\n        @include max-width($bp-xl) {\n          grid-column: auto;\n        }\n      }\n    }\n\n    @for $i from 1 through 15 {\n      .row-#{$i} {\n        grid-row: #{$i};\n\n        @include max-width($bp-xl) {\n          grid-row: auto;\n        }\n      }\n    }\n  }\n}\n\n.tooltip {\n  position: absolute;\n  width: 300px;\n  background: white;\n  z-index: 3000;\n  pointer-events: none;\n  opacity: 0;\n  padding: 0.25 * $spacing 0.5 * $spacing;\n  box-shadow: $box-shadow-weak;\n  border-left: 5px solid $black;\n  font-size: 0.9rem;\n  border-radius: 0 $border-radius-weak $border-radius-weak 0;\n\n  .above-title,\n  .note {\n    font-size: 0.7rem;\n  }\n\n  p {\n    margin: 0.125 * $spacing 0;\n  }\n}\n\n.overlay {\n  background-color: $gray-500;\n  opacity: 0.2;\n\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.fade-enter-active,\n.scale-enter-active  {\n  transition: all 0.2s ease-in;\n}\n\n.fade-leave-active,\n.scale-leave-active {\n  transition: all 0.2s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.scale-enter-from,\n.scale-leave-to {\n  transform: scale(0.9);\n  opacity: 0;\n}\n</style>\n","import { csv } from 'd3-fetch';\n\nimport { select, selectAll } from 'd3-selection';\n\nimport {\n  group,\n  groups,\n  rollup,\n  rollups,\n  range,\n  sum,\n  cumsum,\n  max,\n  descending,\n  ascending,\n  difference,\n} from 'd3-array';\n\nimport {\n  scaleLinear,\n  scaleBand,\n  scaleOrdinal,\n  scalePoint,\n  scaleSqrt,\n} from 'd3-scale';\n\nimport { schemePaired } from 'd3-scale-chromatic';\n\nimport { pointRadial, arc } from 'd3-shape';\n\nimport { timeDay, timeMonth, timeMonths } from 'd3-time';\n\nimport { timeParse, timeFormat } from 'd3-time-format';\n\nimport { format } from 'd3-format';\n\nimport { forceSimulation, forceX, forceY } from 'd3-force';\n\nimport { quadtree } from 'd3-quadtree';\n\nimport { transition } from 'd3-transition';\n\nexport default {\n  csv,\n\n  select,\n  selectAll,\n\n  group,\n  groups,\n  rollup,\n  rollups,\n  range,\n  sum,\n  cumsum,\n  max,\n  descending,\n  ascending,\n  difference,\n\n  scaleLinear,\n  scaleBand,\n  scaleOrdinal,\n  scalePoint,\n  scaleSqrt,\n\n  schemePaired,\n\n  pointRadial,\n  arc,\n\n  timeDay,\n  timeMonth,\n  timeMonths,\n\n  timeParse,\n  timeFormat,\n\n  format,\n\n  forceSimulation,\n  forceX,\n  forceY,\n\n  quadtree,\n\n  transition,\n};\n","/* eslint-disable no-shadow */\n/* eslint-disable no-nested-ternary */\nimport d3 from '@/assets/d3';\n\nexport function normalize(str) {\n  return str\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '')\n    .toLowerCase();\n}\n\nexport function displayTimeRange(dates, hasEnded) {\n  const formatTime = d3.timeFormat('%Y');\n  const years = Object.values(dates).map(formatTime);\n  return hasEnded ? years.join('-') : `ab ${years[0]}`;\n}\n\nexport function getTermId(body, term) {\n  return `${normalize(body)}-${term}`;\n}\n\nexport function computeSeatPositions(seatsPartition, nSeats, config) {\n  // Code from https://observablehq.com/@yu-emilie/european-parliament-elections-of-2014/2\n  const seats = [];\n\n  // 1 Compute seats positions\n  // 1.1 Compute position and size of the rows\n  const rows = [];\n  const n = nSeats;\n  let toBePlaced = n;\n  let rowR = config.innerRadius;\n  while (toBePlaced > 0) {\n    // Compute nb of seats on one row\n    const nbR = Math.floor((rowR * Math.PI) / (2 * config.seatRadius + config.spacing));\n    const row = {\n      radius: rowR,\n      nb: nbR,\n    };\n    rows.push(row);\n    toBePlaced -= nbR;\n    rowR += (config.seatRadius + config.spacing) * 2;\n  }\n\n  // 1.2 Place all seats on the rows\n  let seatsPlaced = 0;\n  for (let i = 0; i < rows.length; i += 1) {\n    const row = rows[i];\n\n    let j = 0;\n    let seatsPlacedOnRow = 0;\n    const dtheta = Math.PI / Math.min(row.nb, n - seatsPlaced);\n    while (seatsPlacedOnRow < Math.min(row.nb, n - seatsPlaced)) {\n      const theta = -Math.PI + dtheta * (j + 0.5);\n      const seat = {\n        row: i,\n        x: Math.cos(theta) * row.radius,\n        y: Math.sin(theta) * row.radius,\n        r: config.seatRadius,\n        theta,\n      };\n      seats.push(seat);\n      j += 1;\n      seatsPlacedOnRow += 1;\n    }\n    seatsPlaced += seatsPlacedOnRow;\n  }\n\n  // 2. Assign the right color to each seat and determine \"party zones\" (for hover function)\n  const zones = [];\n  const outerRadius = rows[rows.length - 1].radius + config.seatRadius + config.spacing;\n  // 2.1 Sort the list of seats by angle theta\n  // eslint-disable-next-line no-confusing-arrow\n  seats.sort((a, b) => (a.theta > b.theta) ? 1 : ((b.theta > a.theta) ? -1 : 0));\n\n  // 2.2 Assign party id\n  let seatsColored = 0;\n  seatsPartition.forEach((party) => {\n    if (party.id === 'turnout') return;\n    const startAngle = seats[seatsColored].theta;\n    const nbSeats = +party.seats;\n    const partyName = party.id;\n    for (let i = seatsColored; i < Math.min(n, seatsColored + nbSeats); i += 1) {\n      seats[i].party = partyName;\n    }\n    const endAngle = seats[Math.min(n, seatsColored + nbSeats) - 1].theta;\n    zones.push({\n      party: partyName,\n      nbSeats,\n      startAngle,\n      endAngle,\n      outerRadius,\n      innerRadius: config.innerRadius,\n      selected: false,\n    });\n    seatsColored += nbSeats;\n  });\n\n  return { seats, zones };\n}\n","<template>\n  <div :class=classes @click=\"onClick\">\n    <div\n      :id=seatChartId\n      class=\"chart chart-seat\" />\n    <div class=\"caption\">\n      <div class=\"heading\">\n        <b>{{ body }}</b>&nbsp;\n        <span class=\"years\">({{ years }})</span>\n      </div>\n      <p>\n        Durchsuche <b>{{ nRequests }}</b> gesammelte Anfragen\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SeatChart from '@/core/SeatChart';\nimport { getTermId, displayTimeRange } from '@/core/utils';\nimport { LABEL_POSITIONS } from '@/core/CONSTANTS';\n\nexport default {\n  name: 'ElectionPeriod',\n  props: {\n    cell: Object,\n    name: String,\n    body: String,\n    term: String,\n    dates: Object,\n    hasEnded: Boolean,\n    periodNum: Number,\n    nRequests: Number,\n    requestsPerHead: Array,\n    elections: Array,\n  },\n  emits: ['top'],\n  data() {\n    return {\n      seatChart: null,\n    };\n  },\n  created() {\n    window.addEventListener('resize', this.onResize);\n  },\n  mounted() {\n    const chartDiv = this.getChartDiv();\n\n    let labelPositions;\n    if (LABEL_POSITIONS.has(this.name)) {\n      labelPositions = LABEL_POSITIONS.get(this.name);\n    }\n\n    const cfg = this.getChartConfig();\n    this.seatChart = new SeatChart(`#${chartDiv.id}`, labelPositions)\n      .data(this.requestsPerHead)\n      .draw(cfg);\n  },\n  computed: {\n    classes() {\n      const classes = { 'election-period': true };\n      if (this.cell !== undefined) {\n        classes[`row-${this.cell.row}`] = true;\n        classes[`col-${this.cell.col}`] = true;\n      }\n      return classes;\n    },\n    seatChartId() {\n      return `chart-seat-${getTermId(this.body, this.term)}`;\n    },\n    years() {\n      return displayTimeRange(this.dates, this.hasEnded);\n    },\n  },\n  methods: {\n    getChartDiv() {\n      return this.$el.querySelector('.chart-seat');\n    },\n    getChartConfig() {\n      let seatRadius = 5;\n      let innerRadius = 50;\n      let fontSize = '0.7rem';\n\n      if (window.innerWidth < 440) {\n        seatRadius = 2;\n        innerRadius = 30;\n        fontSize = '0.5rem';\n      } else if (window.innerWidth < 540) {\n        seatRadius = 3;\n        innerRadius = 40;\n        fontSize = '0.6rem';\n      } else if (window.innerWidth < 640) {\n        seatRadius = 4;\n      }\n\n      if (this.body !== 'Bundestag') {\n        innerRadius -= 20;\n      }\n\n      return { seatRadius, innerRadius, fontSize };\n    },\n    onClick() {\n      this.$emit('top', this.name);\n    },\n    onResize() {\n      const cfg = this.getChartConfig();\n      this.seatChart.draw(cfg);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/global';\n\n.election-period {\n  background-color: white;\n  border-radius: $border-radius-strong;\n  padding: $spacing;\n  border: 1px solid white;\n  box-shadow: $box-shadow-weak;\n  transition: all 0.2s;\n  text-align: center;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: center;\n\n  &:hover {\n    box-shadow: $box-shadow-strong;\n    border-color: $primary;\n    cursor: pointer;\n\n    @include max-width($bp-lg) {\n      box-shadow: $box-shadow-weak;\n      border-color: white;\n      cursor: auto;\n    }\n  }\n\n  &:active {\n    @include max-width($bp-lg) {\n      pointer-events: none;\n    }\n  }\n}\n\n.caption {\n  margin-top: 0.5 * $spacing;\n  text-align: center;\n\n  .years {\n    white-space: nowrap;\n  }\n\n  p {\n    font-size: 0.9rem;\n  }\n}\n</style>\n","import color from '@/assets/style/_global.scss';\n\nexport const PARTY_GROUPS = [\n  ['AfD', 'ABW', 'BMV', 'Freie Wähler/BMV'],\n  ['FDP', 'FDP/DVP'],\n];\n\nexport const SORTED_PARTIES = [\n  'NPD',\n  'BIW',\n  'Freie Wähler/BMV',\n  'BMV',\n  'ABW',\n  'AfD',\n  'BVB/FW',\n  'FW',\n  'Freie Wähler',\n  'FDP/DVP',\n  'FDP',\n  'CSU',\n  'CDU/CSU',\n  'CDU',\n  'SPD',\n  'SSW',\n  'Die Grünen',\n  'Piraten',\n  'Die Linke',\n  'fraktionslos',\n];\n\nexport const COLOR = new Map([\n  ['NPD', color.polBrown],\n  ['BIW', color.polBrown],\n  ['Freie Wähler/BMV', color.polBlue],\n  ['BMV', color.polBlue],\n  ['ABW', color.polBlue],\n  ['AfD', color.polBlue],\n  ['BVB/FW', color.polOrange],\n  ['FW', color.polOrange],\n  ['Freie Wähler', color.polOrange],\n  ['FDP/DVP', color.polYellow],\n  ['FDP', color.polYellow],\n  ['CSU', color.polBlack],\n  ['CDU/CSU', color.polBlack],\n  ['CDU', color.polBlack],\n  ['SPD', color.polRed],\n  ['SSW', color.polGray],\n  ['Die Grünen', color.polGreen],\n  ['Piraten', color.polOrange],\n  ['Die Linke', color.polPurple],\n  ['fraktionslos', color.polGray],\n]);\n\nexport const LIGHT_COLOR = new Map([\n  ['NPD', color.polBrownLight],\n  ['BIW', color.polBrownLight],\n  ['Freie Wähler/BMV', color.polBlueLight],\n  ['BMV', color.polBlueLight],\n  ['ABW', color.polBlueLight],\n  ['AfD', color.polBlueLight],\n  ['BVB/FW', color.polOrangeLight],\n  ['FW', color.polOrangeLight],\n  ['Freie Wähler', color.polOrangeLight],\n  ['FDP/DVP', color.polYellowLight],\n  ['FDP', color.polYellowLight],\n  ['CSU', color.polBlackLight],\n  ['CDU/CSU', color.polBlackLight],\n  ['CDU', color.polBlackLight],\n  ['SPD', color.polRedLight],\n  ['SSW', color.polGrayLight],\n  ['Die Grünen', color.polGreenLight],\n  ['Piraten', color.polOrangeLight],\n  ['Die Linke', color.polPurpleLight],\n  ['fraktionslos', color.polGrayLight],\n]);\n\nexport const LABEL_POSITIONS = new Map([\n  ['baden-wurttemberg-16', [\n    { party: 'AfD', row: 0 },\n    { party: 'FDP/DVP', row: 1 },\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'Die Grünen', row: 0 },\n  ]],\n  ['baden-wurttemberg-15', [\n    { party: 'FDP/DVP', row: 1 },\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'Die Grünen', row: 0 },\n  ]],\n  ['bayern-17', [\n    { party: 'Freie Wähler', row: 1 },\n    { party: 'CSU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'Die Grünen', row: 0 },\n  ]],\n  ['brandenburg-6', [\n    { party: 'AfD', row: 0 },\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'Die Grünen', row: 1 },\n    { party: 'Die Linke', row: 0 },\n  ]],\n  ['bremen-19', [\n    { party: 'FDP', row: 0 },\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'Die Grünen', row: 0 },\n    { party: 'Die Linke', row: 0 },\n  ]],\n  ['hessen-19', [\n    { party: 'FDP', row: 0 },\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'Die Grünen', row: 1 },\n    { party: 'Die Linke', row: 0 },\n  ]],\n  ['mecklenburg-vorpommern-7', [\n    { party: 'AfD', row: 0 },\n    { party: 'CDU', row: 0 },\n    { party: 'Die Linke', row: 0 },\n  ]],\n  ['mecklenburg-vorpommern-6', [\n    { party: 'NPD', row: 0 },\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'Die Grünen', row: 1 },\n    { party: 'Die Linke', row: 0 },\n  ]],\n  ['saarland-15', [\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'Die Grünen', row: 2 },\n    { party: 'Piraten', row: 1 },\n    { party: 'Die Linke', row: 0 },\n  ]],\n  ['saarland-14', [\n    { party: 'FDP', row: 0 },\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'Die Grünen', row: 1 },\n    { party: 'Die Linke', row: 0 },\n  ]],\n  ['sachsen-6', [\n    { party: 'AfD', row: 0 },\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'Die Grünen', row: 1 },\n    { party: 'Die Linke', row: 0 },\n  ]],\n  ['sachsen-anhalt-7', [\n    { party: 'AfD', row: 0 },\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'Die Grünen', row: 1 },\n    { party: 'Die Linke', row: 0 },\n  ]],\n  ['sachsen-anhalt-6', [\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'Die Grünen', row: 1 },\n    { party: 'Die Linke', row: 0 },\n  ]],\n  ['schleswig-holstein-19', [\n    { party: 'AfD', row: 0 },\n    { party: 'FDP', row: 0 },\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'SSW', row: 1 },\n    { party: 'Die Grünen', row: 0 },\n  ]],\n  ['schleswig-holstein-18', [\n    { party: 'FDP', row: 0 },\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'SSW', row: 2 },\n    { party: 'Die Grünen', row: 1 },\n    { party: 'Piraten', row: 0 },\n  ]],\n  ['thuringen-6', [\n    { party: 'AfD', row: 0 },\n    { party: 'CDU', row: 0 },\n    { party: 'SPD', row: 0 },\n    { party: 'Die Grünen', row: 1 },\n    { party: 'Die Linke', row: 0 },\n  ]],\n]);\n","import d3 from '@/assets/d3';\n\nimport { SORTED_PARTIES, COLOR, LIGHT_COLOR } from '@/core/CONSTANTS';\nimport { computeSeatPositions } from '@/core/utils';\n\nimport color from '@/assets/style/_global.scss';\n\nexport default class SeatChart {\n  constructor(selector, labelPositions) {\n    this.selector = selector;\n\n    // data\n    this.requestsPerHead = null;\n    this.seatsPartition = null;\n    this.nSeats = null;\n\n    // options\n    this.svg = null;\n    this.width = null;\n    this.height = null;\n    this.marginTop = 20;\n    this.config = {\n      spacing: 1,\n      seatRadius: null,\n      innerRadius: null,\n      fontSize: null,\n    };\n    this.labelPositions = labelPositions;\n\n    // scales\n    this.scales = {\n      r: null,\n      o: null,\n    };\n\n    this.categories = [\n      '>=1 per day',\n      '>=1 per week',\n      '>=1 per month',\n      '>=1 per year',\n      '<1 per year',\n      '0',\n    ];\n  }\n\n  data(requestsPerHead) {\n    this.requestsPerHead = requestsPerHead;\n    this.requestsPerHeadMap = d3.group(this.requestsPerHead, (d) => d.party);\n\n    if (this.labelPositions === undefined) {\n      this.labelPositions = Array.from(this.requestsPerHeadMap.keys())\n        .map((party) => ({ party, row: 0 }));\n    }\n\n    return this;\n  }\n\n  draw(config) {\n    this.config.innerRadius = config.innerRadius;\n    this.config.seatRadius = config.seatRadius;\n    this.config.fontSize = config.fontSize;\n\n    return this\n      .reset()\n      .setUpScales()\n      .prepareData()\n      .setUpSVG()\n      .drawAxis()\n      .drawData();\n  }\n\n  reset() {\n    if (this.svg) d3.select(`${this.selector} svg`).remove();\n    return this;\n  }\n\n  setUpScales() {\n    const { seatRadius, minOpacity } = this.config;\n\n    this.scales.r = d3.scalePoint()\n      .domain(this.categories)\n      .range([seatRadius, 0]);\n\n    this.scales.o = d3.scalePoint()\n      .domain(this.categories)\n      .range([1, minOpacity]);\n\n    return this;\n  }\n\n  prepareData() {\n    this.seatsPartition = d3.rollups(this.requestsPerHead, (v) => v.length, (d) => d.party)\n      .map(([party, seats]) => ({ id: party, seats }))\n      .sort((a, b) => d3.ascending(\n        SORTED_PARTIES.findIndex((p) => p === a.id),\n        SORTED_PARTIES.findIndex((p) => p === b.id),\n      ));\n    this.nSeats = d3.sum(this.seatsPartition, (d) => d.seats);\n\n    this.isOpposition = new Map(this.requestsPerHead.map((d) => [d.party, d.isOpposition]));\n\n    const { seats: circles, zones } = computeSeatPositions(\n      this.seatsPartition, this.nSeats, this.config,\n    );\n\n    this.circles = circles;\n    this.zones = zones.filter((d) => d.party !== 'fraktionslos');\n\n    const nRows = d3.max(this.circles, (d) => d.row);\n    this.height = this.config.innerRadius + this.marginTop\n      + nRows * (2 * this.config.seatRadius + 2 * this.config.spacing);\n    this.width = this.height * 2;\n\n    return this;\n  }\n\n  drawAxis() {\n    const parties = this.labelPositions.map((d) => d.party);\n    const row = new Map(this.labelPositions.map((d) => [d.party, d.row]));\n    const data = this.zones\n      .filter((d) => parties.includes(d.party))\n      .map((d, i) => {\n        const e = d;\n        e.labelStartAngle = i === 0 ? -Math.PI + 0.01 : d.startAngle;\n        e.labelRadius = d.outerRadius + 5 + row.get(d.party) * 12;\n        return e;\n      });\n\n    this.svg.append('g')\n      .attr('class', 'axis')\n      .selectAll('g')\n      .data(data)\n      .join('g')\n      .call((g) => g\n        .append('line')\n        .attr('transform', 'rotate(90)')\n        .attr('x1', (d) => d3.pointRadial(d.labelStartAngle - 0.01, d.outerRadius)[0])\n        .attr('y1', (d) => d3.pointRadial(d.labelStartAngle - 0.01, d.outerRadius)[1])\n        .attr('x2', (d) => d3.pointRadial(d.labelStartAngle - 0.01, d.labelRadius + 8)[0])\n        .attr('y2', (d) => d3.pointRadial(d.labelStartAngle - 0.01, d.labelRadius + 8)[1])\n        .attr('stroke', color.gray300))\n      .call((g) => g\n        .append('path')\n        .attr('id', (_, i) => `${this.selector}--x-tick--text-path-${i}`)\n        .attr('stroke', 'none')\n        .attr('fill', 'none')\n        .attr('transform', 'rotate(90)')\n        .attr('d', (d) => {\n          const r = d.labelRadius;\n          return [\n            `M${d3.pointRadial(d.labelStartAngle, r)}`,\n            `A${r},${r} 0,0,1 ${d3.pointRadial(0, r)}`,\n          ].join(' ');\n        }))\n      .call((g) => g\n        .append('text')\n        .attr('font-size', this.config.fontSize)\n        .append('textPath')\n        .attr('xlink:href', (_, i) => `#${this.selector}--x-tick--text-path-${i}`)\n        .style('font-weight', (d) => (this.isOpposition.get(d.party) ? 'bold' : 'normal'))\n        .text((d) => d.party));\n\n    return this;\n  }\n\n  drawData() {\n    const groupedCircles = d3.groups(this.circles, (d) => d.party)\n      .map(([party, data]) => {\n        const counts = this.requestsPerHeadMap.get(party)\n          .sort((a, b) => d3.descending(a.nRequests, b.nRequests));\n\n        const partyCircles = data\n          .sort((a, b) => d3.ascending(a.row, b.row) || d3.ascending(a.theta, b.theta))\n          .map((d, i) => {\n            const e = d;\n            e.data = counts[i];\n\n            const n = counts[i].nRequestsPerDay;\n            if (n >= 1) e.category = '>=1 per day';\n            else if (n * 7 >= 1) e.category = '>=1 per week';\n            else if (n * 30 >= 1) e.category = '>=1 per month';\n            else if (n * 365 >= 1) e.category = '>=1 per year';\n            else if (n !== 0) e.category = '<1 per year';\n            else e.category = '0';\n\n            return e;\n          });\n\n        return { party, circles: partyCircles };\n      });\n\n    const { r, o } = this.scales;\n    const { seatRadius } = this.config;\n\n    this.svg.append('g')\n      .selectAll('g')\n      .data(groupedCircles)\n      .join('g')\n      .call((g) => g\n        .selectAll('.circle-outer')\n        .data((d) => d.circles)\n        .join('circle')\n        .attr('class', 'circle-outer')\n        .attr('cx', (d) => d.x)\n        .attr('cy', (d) => d.y)\n        .attr('r', seatRadius)\n        .attr('fill', (d) => (\n          d.category === '0' || d.category === '<1 per year'\n            ? color.gray100 : LIGHT_COLOR.get(d.party)))\n        .attr('fill-opacity', 1)\n        .on('mousemove', (event, d) => {\n          if (d.category === '0') return;\n\n          const nRequestsPerMonth = Math.round(d.data.nRequestsPerMonth);\n          let line1 = d.data.nRequests > 1\n            ? `<p>war insgesamt an <b>${d.data.nRequests}</b> Anfragen beteiligt`\n            : '<p>war an einer Anfrage beteiligt';\n          if (nRequestsPerMonth > 1) {\n            line1 += `, das sind ungefähr ${nRequestsPerMonth} im Monat`;\n          } else if (nRequestsPerMonth === 1) {\n            line1 += ', das ist ungefähr eine im Monat';\n          }\n          line1 += '</p>';\n\n          let line2 = '';\n          if (d.data.topMinistry) {\n            if (d.data.nRequests > 10) {\n              const f = d3.format('.0%');\n              const topMinistryPercentage = d.data.topMinistryCount / d.data.nRequests;\n              line2 = `<p><i>Am häufigsten angefragt:</i> ${d.data.topMinistry} (${f(topMinistryPercentage)} aller Anfragen)</p>`;\n            } else if (d.data.nRequests > 1) {\n              line2 = `<p><i>Am häufigsten angefragt:</i> ${d.data.topMinistry} (${d.data.topMinistryCount} von ${d.data.nRequests} Anfragen)</p>`;\n            } else if (d.data.nRequests === 1) {\n              line2 = `<p><i>Angefragt:</i> ${d.data.topMinistry}</p>`;\n            }\n          }\n\n          const left = Math.min(window.innerWidth - 300, event.pageX);\n          d3.select('.tooltip-seat')\n            .style('left', `${left}px`)\n            .style('top', `${event.pageY}px`)\n            .style('opacity', 1)\n            .style('border-color', COLOR.get(d.party))\n            .html([\n              `<div class=\"above-title\">${d.party}</div>`,\n              `<h4>${d.data.name}</h4>`,\n              line1,\n              line2,\n            ].join(''));\n        })\n        .on('mouseleave', () => {\n          d3.select('.tooltip-seat')\n            .style('opacity', 0);\n        }))\n      .call((g) => g\n        .selectAll('.circle-inner')\n        .data((d) => d.circles)\n        .join('circle')\n        .attr('class', 'circle-inner')\n        .attr('tmp', (d) => d.party)\n        .attr('cx', (d) => d.x)\n        .attr('cy', (d) => d.y)\n        .attr('r', (d) => r(d.category))\n        .attr('fill-opacity', (d) => o(d.category))\n        .attr('fill', (d) => COLOR.get(d.party))\n        .style('pointer-events', 'none'));\n\n    return this;\n  }\n\n  setUpSVG() {\n    this.svg = d3.select(this.selector)\n      .append('svg')\n      .attr('viewBox', [\n        -this.width / 2,\n        -this.height,\n        this.width,\n        this.height])\n      .attr('overflow', 'visible')\n      .attr('width', this.width)\n      .attr('height', this.height);\n\n    this.svg.append('line')\n      .attr('x1', -this.width / 2 + 20)\n      .attr('y1', 0)\n      .attr('x2', this.width / 2 - 20)\n      .attr('y2', 0)\n      .attr('stroke', color.gray300);\n\n    return this;\n  }\n}\n","import { render } from \"./ElectionPeriod.vue?vue&type=template&id=2b0ec870&scoped=true\"\nimport script from \"./ElectionPeriod.vue?vue&type=script&lang=js\"\nexport * from \"./ElectionPeriod.vue?vue&type=script&lang=js\"\n\nimport \"./ElectionPeriod.vue?vue&type=style&index=0&id=2b0ec870&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2b0ec870\"\n\nexport default script","<template>\n  <div :class=classes>\n    <div class=\"sidebar\">\n      <h3>{{ body }}&nbsp; <span>({{ years }})</span></h3>\n      <div class=\"text\">\n        Die Oppositionsparteien\n          <div class=\"tag-group\">\n            <span\n              class=\"tag\"\n              v-for=\"(party, i) in oppositionParties\"\n              :key=i\n              :style=party.style\n            >\n              {{ party.name }}\n            </span>\n          </div>\n          und Regierungparteien\n          <div class=\"tag-group\">\n            <span\n              class=\"tag\"\n              v-for=\"(party, i) in rulingParties\"\n              :key=i\n              :style=party.style\n            >\n              {{ party.name }}\n            </span>\n          </div>\n          haben insgesamt\n          <div class=\"tag-group\">\n            <span class=\"highlight\">{{ nRequests }}</span> Anfragen\n          </div>\n          an folgende Instutionen gestellt:\n      </div>\n      <div class=\"ministry-legend\" />\n      <ministry-button-group\n        :ministries=ministries\n        :sortedParties=parties\n        @selected=onSelected />\n    </div>\n    <div\n      :id=ringChartId\n      class=\"chart chart-ring\" />\n  </div>\n</template>\n\n<script>\nimport d3 from '@/assets/d3';\n\nimport { getTermId, displayTimeRange } from '@/core/utils';\nimport { COLOR, PARTY_GROUPS } from '@/core/CONSTANTS';\n\nimport RingChart from '@/core/RingChart';\nimport MinistryLegend from '@/core/MinistryLegend';\n\nimport MinistryButtonGroup from './MinistryButtonGroup.vue';\n\nexport default {\n  name: 'Popup',\n  components: {\n    MinistryButtonGroup,\n  },\n  emits: ['close'],\n  props: {\n    name: String,\n    body: String,\n    term: String,\n    dates: Object,\n    hasEnded: Boolean,\n    srcRequests: String,\n    elections: Object,\n  },\n  data() {\n    return {\n      ringChart: null,\n      selectedMinistry: null,\n      requests: null,\n    };\n  },\n  async created() {\n    document.addEventListener('keyup', this.onKeyUp);\n    window.addEventListener('resize', this.onResize);\n    await this.fetchRequestsData();\n  },\n  mounted() {\n    const legendDiv = this.$el.querySelector('.ministry-legend');\n    new MinistryLegend(legendDiv).draw();\n\n    if (this.requests !== null) {\n      const ringChartDiv = this.$el.querySelector('.chart-ring');\n      const {\n        dates, parties, maxValue, term,\n      } = this;\n      this.ringChart = new RingChart(\n        `#${ringChartDiv.id}`,\n        {\n          dates, parties, maxValue, term,\n        },\n      )\n        .drawSkeleton(ringChartDiv.clientHeight)\n        .updateMinistry(this.selectedRequests);\n    }\n  },\n  updated() {\n    const ringChartDiv = this.$el.querySelector('.chart-ring');\n    const {\n      dates, parties, maxValue, term, selectedRequests,\n    } = this;\n\n    this.ringChart = new RingChart(\n      `#${ringChartDiv.id}`,\n      {\n        dates, parties, maxValue, term,\n      },\n    )\n      .drawSkeleton(ringChartDiv.clientHeight)\n      .updateMinistry(selectedRequests);\n  },\n  computed: {\n    classes() {\n      return {\n        popup: true,\n        loading: this.requests === null,\n      };\n    },\n    ringChartId() {\n      return `popup-chart-ring-${getTermId(this.body, this.term)}`;\n    },\n    years() {\n      return displayTimeRange(this.dates, this.hasEnded);\n    },\n    selectedRequests() {\n      if (this.requests === null || this.ministries === null) return '';\n      const selectedMinistry = this.selectedMinistry !== null\n        ? this.selectedMinistry : this.ministries[0].name;\n      return this.requests.filter((d) => d.ministries[0] === selectedMinistry);\n    },\n    nRequests() {\n      if (this.requests === null) return '';\n      return this.requests.length;\n    },\n    oppositionParties() {\n      if (this.parties === null || this.isOpposition === null) {\n        return Array(3).fill({ name: '', style: {} });\n      }\n      return this.prepareParties(this.parties.filter((party) => (this.isOpposition.has(party)\n        ? this.isOpposition.get(party) : true)));\n    },\n    rulingParties() {\n      if (this.parties === null || this.isOpposition === null) {\n        return Array(2).fill({ name: '', style: {} });\n      }\n      return this.prepareParties(this.parties.filter((party) => (this.isOpposition.has(party)\n        ? !this.isOpposition.get(party) : false)));\n    },\n    ministries() {\n      if (this.requests === null) return null;\n      return d3\n        .groups(this.requests, (d) => d.ministries[0])\n        .map(([ministry, requests]) => ({ name: ministry, requests }))\n        .sort((a, b) => d3.descending(a.requests.length, b.requests.length));\n    },\n    parties() {\n      if (this.requests === null) return null;\n      return this.getPartyCounts(this.requests)\n        .sort((a, b) => d3.descending(\n          a.party === 'fraktionslos' ? -1 : a.count,\n          b.party === 'fraktionslos' ? -1 : b.count,\n        ))\n        .map(({ party }) => party);\n    },\n    isOpposition() {\n      return new Map(this.elections.map((d) => [d.party, d.isOpposition]));\n    },\n    maxValue() {\n      if (this.requests === null) return null;\n      const dateId = d3.timeFormat('%Y-%m');\n      return d3.max(d3\n        .groups(this.requests, (d) => `${d.ministries[0]}-${dateId(d.date)}`)\n        .map(([, requests]) => d3.max(this.getPartyCounts(requests), (d) => d.count)));\n    },\n  },\n  methods: {\n    async fetchRequestsData() {\n      const parseTime = d3.timeParse('%Y-%m-%d');\n      const asArray = (str) => (str ? str.split(';').map((s) => s.trim()) : []);\n      this.requests = await d3.csv(this.srcRequests, (d) => ({\n        reference: d.reference,\n        date: parseTime(d.published_at),\n        title: d.title,\n        type: d.interpellation_type,\n        url: d.html_url,\n        parties: asArray(d.inquiring_parties_wikidata),\n        inquiringPeople: asArray(d.inquiring_people_wikidata),\n        ministries: asArray(d.answering_ministries_wikidata),\n      }));\n    },\n    onSelected(ministry) {\n      this.selectedMinistry = ministry;\n      this.ringChart.updateMinistry(this.selectedRequests);\n    },\n    onResize() {\n      const ringChartDiv = this.$el.querySelector('.chart-ring');\n      this.ringChart\n        .drawSkeleton(ringChartDiv.clientHeight)\n        .updateMinistry(this.selectedRequests);\n    },\n    onKeyUp(event) {\n      if (event.key === 'Escape') {\n        this.$emit('close');\n      }\n    },\n    getPartyCounts(requests) {\n      let partyCounts = d3\n        .rollups(requests.flatMap((d) => d.parties), (v) => v.length, (d) => d)\n        .map(([party, count]) => ({ party, count }));\n\n      PARTY_GROUPS.forEach((group) => {\n        const toGroup = partyCounts.filter(({ party }) => group.includes(party));\n        const partiesToGroup = toGroup.map(({ party }) => party);\n        if (toGroup.length > 1) {\n          partyCounts.push({\n            party: partiesToGroup.join(';'),\n            count: d3.sum(toGroup, (d) => d.count),\n          });\n          partyCounts = partyCounts.filter(({ party }) => !partiesToGroup.includes(party));\n        }\n      });\n\n      return partyCounts;\n    },\n    prepareParties(parties) {\n      return parties\n        .filter((party) => party !== 'fraktionslos')\n        .sort((a, b) => d3.ascending(\n          this.parties.findIndex((p) => p === a),\n          this.parties.findIndex((p) => p === b),\n        ))\n        .map((party) => ({\n          name: party.split(';').join('/'),\n          style: {\n            backgroundColor: COLOR.get(party.split(';')[0]),\n          },\n        }));\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/global';\n\n$popup-offset: $spacing * 2;\n$popup-width: calc(100vw - 4 * #{$popup-offset});\n$popup-height: calc(100vh - #{$popup-offset});\n\n$line-height: 20px;\n\n.popup {\n  position: fixed;\n  z-index: 2000;\n  top: $popup-offset / 2;\n  left: 2 * $popup-offset;\n  width: $popup-width;\n  height: $popup-height;\n  background-color: white;\n  border-radius: $border-radius-strong;\n\n  display: grid;\n  grid-template-columns: 1fr $popup-height;\n\n  @include max-width($bp-xl) {\n    width: calc(100vw - #{$popup-offset});\n    left: $popup-offset / 2;\n  }\n\n  &.loading {\n    .tag {\n      width: 80px;\n      height: $line-height;\n      background-color: $gray-300;\n      vertical-align: bottom;\n    }\n\n    .highlight {\n      display: inline-block;\n      width: 40px;\n      height: $line-height;\n      background-color: $gray-300;\n      vertical-align: bottom;\n      border-radius: $border-radius-weak;\n    }\n\n    .ministry-legend {\n      visibility: hidden;\n    }\n  }\n}\n\n.chart-ring {\n  height: $popup-height;\n  width: $popup-height;\n}\n\n.sidebar {\n  height: $popup-height;\n  padding: $spacing;\n  background-color: $primary-light;\n  border-radius: $border-radius-strong 0 0 $border-radius-strong;\n  display: flex;\n  flex-direction: column;\n\n  h3 {\n    text-align: center;\n    border-bottom: 1px solid $black;\n    padding-bottom: 0.5 * $spacing;\n    font-weight: bold;\n\n    span {\n      font-weight: normal;\n    }\n  }\n\n  .text {\n    border: 1px solid $primary-light;\n    margin: $spacing 0;\n  }\n}\n\n.tag-group {\n  margin-left: 0.5 * $spacing;\n  padding: 2px 0 0.5 * $spacing 0;\n\n  .tag {\n    display: inline-block;\n    padding: 0 5px;\n    border-radius: $border-radius-weak;\n    font-size: 0.9rem;\n    font-weight: bold;\n    white-space: nowrap;\n    line-height: $line-height;\n    color: white;\n  }\n\n  .highlight {\n    font-weight: bold;\n    line-height: $line-height;\n  }\n}\n\n.ministry-legend {\n  width: 50px;\n  height: 20px;\n  margin-top: -20px;\n  align-self: flex-end;\n}\n</style>\n","import d3 from '@/assets/d3';\n\n// Written by From Nadieh Bremer\n// Taken from https://observablehq.com/@nbremer/custom-cluster-force-layout\n\nexport default function forceClusterCollision() {\n  let nodes\n  let radii\n  let strength = 1\n  let iterations = 1\n  let clusterPadding = 0 //addition\n\n  function radius(d) { return d.r }\n  function x(d) { return d.x + d.vx }\n  function y(d) { return d.y + d.vy }\n  function constant(x) { return function() { return x } }\n  function jiggle() { return 1e-6 } //change - PLEASE no Math.random() in there ಥ﹏ಥ\n  // function jiggle() { return (Math.random() - 0.5) * 1e-6 }\n\n  function force() {\n    let i\n    let n = nodes.length\n    let tree\n    let node\n    let xi\n    let yi\n    let ri\n    let ri2\n\n    for (let k = 0; k < iterations; ++k) {\n      tree = d3.quadtree(nodes, x, y).visitAfter(prepare)\n      for (i = 0; i < n; ++i) {\n        node = nodes[i]\n        ri = radii[node.index]\n        ri2 = ri * ri\n        xi = node.x + node.vx\n        yi = node.y + node.vy\n        tree.visit(apply)\n      }//for i\n    }//for k\n\n    function apply(quad, x0, y0, x1, y1) {\n      let data = quad.data\n      let rj = quad.r\n      let r = ri + rj + clusterPadding //change\n      if (data) {\n        if (data.index > node.index) {\n          let x = xi - data.x - data.vx\n          let y = yi - data.y - data.vy\n          let l = x * x + y * y\n          r = ri + rj + (node.cluster !== quad.data.cluster ? clusterPadding : 0) //addition\n\n          if (l < r * r) {\n            if (x === 0) x = jiggle(), l += x * x\n            if (y === 0) y = jiggle(), l += y * y\n            l = (r - (l = Math.sqrt(l))) / l * strength\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj))\n            node.vy += (y *= l) * r\n            data.vx -= x * (r = 1 - r)\n            data.vy -= y * r\n          }//if\n        }//if\n        return\n      }//if\n        return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r\n      }//apply\n    }//force\n\n    function prepare(quad) {\n      if (quad.data) return quad.r = radii[quad.data.index];\n      for (let i = quad.r = 0; i < 4; ++i) {\n        if (quad[i] && quad[i].r > quad.r) {\n          quad.r = quad[i].r\n        }//if\n      }//for i\n    }\n\n    function initialize() {\n      if (!nodes) return;\n      let i, n = nodes.length, node\n      radii = new Array(n)\n      for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes)\n    }\n\n    force.initialize = function (_) {\n      nodes = _\n      initialize()\n      return force\n    }\n\n    force.iterations = function (_) {\n      return arguments.length ? (iterations = +_, force) : iterations\n    }\n\n    //I wish strength could be a function of the node as well...\n    force.strength = function (_) {\n      return arguments.length ? (strength = +_, force) : strength\n    }\n\n    force.radius = function (_) {\n      return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), force) : radius\n    }\n    \n    //addition - the actual pixels of padding\n    force.clusterPadding = function (_) {\n      return arguments.length ? (clusterPadding = +_, force) : clusterPadding\n    }\n\n    return force\n  }//function forceCollision","import d3 from '@/assets/d3';\n\nimport { COLOR, LIGHT_COLOR } from '@/core/CONSTANTS';\nimport forceClusterCollision from '@/core/forceClusterCollision';\n\nimport color from '@/assets/style/_global.scss';\n\nexport default class RingChart {\n  constructor(selector, data) {\n    this.selector = selector;\n\n    // formats\n    this.formats = {\n      internalFormat: d3.timeFormat('%Y-%m'),\n    };\n\n    // date format options\n    this.dateOptions = {\n      short: { month: 'short' },\n      long: { month: 'short', year: 'numeric' },\n      date: { day: 'numeric', month: 'short', year: 'numeric' },\n    };\n\n    // data\n    this.dates = data.dates;\n    this.parties = data.parties;\n    this.maxValue = data.maxValue;\n    this.term = data.term;\n\n    this.requests = null;\n    this.bins = null;\n\n    this.months = d3.timeMonths(this.dates.start, this.dates.end);\n    this.monthKeys = this.months.map(this.formats.internalFormat);\n\n    // options\n    this.svg = null;\n    this.width = null;\n    this.height = null;\n    this.margin = 20;\n    this.config = {\n      innerRadius: null,\n      outerRadius: null,\n      circleRadius: 10,\n      questionsRadius: 6,\n      questionSize: '0.9rem',\n      unit: 10,\n    };\n\n    // scales\n    this.scales = {\n      x: null,\n      y: null,\n    };\n  }\n\n  drawSkeleton(size) {\n    this.width = size;\n    this.height = size;\n\n    this.config.outerRadius = this.width / 2 - 2 * this.margin;\n    this.config.innerRadius = this.config.outerRadius\n      - 2 * this.config.circleRadius * this.parties.length;\n\n    const trunc = (x) => Math.trunc(x * 100) / 100;\n    const cf = 2 * Math.PI * this.config.innerRadius;\n    this.config.circleRadius = Math.min(\n      trunc(cf / this.months.length / 2),\n      trunc(this.config.outerRadius - this.config.innerRadius) / (2 * this.parties.length),\n    );\n\n    return this\n      .reset()\n      .setUpSVG()\n      .setUpScales()\n      .drawAxes()\n      .drawInfo()\n      .drawLegend()\n      .setUpGrid();\n  }\n\n  reset() {\n    if (this.svg) d3.select(`${this.selector} svg`).remove();\n    return this;\n  }\n\n  drawLegend() {\n    const offset = 30;\n    const n = this.maxValue;\n\n    const steps = n < 5 ? d3.range(1, n + 1) : [1, 0.25 * n, 0.5 * n, 0.75 * n, n];\n    const markers = steps.map((d, i) => ({\n      value: d,\n      dx: i * 1.5 * this.config.circleRadius,\n    }));\n\n    let labels = markers\n      .map((d, i) => {\n        const e = d;\n        if (n < 5) {\n          e.label = i === n - 1 ? `${i + 1} Anfragen` : i + 1;\n        } else {\n          e.label = i === 0 ? `Wenige (${e.value})` : `Viele Anfragen (${e.value})`;\n        }\n        return e;\n      });\n\n    if (n >= 5) {\n      labels = [labels[0], labels[labels.length - 1]];\n    }\n\n    const legend = this.svg.append('g')\n      .attr('class', 'legend');\n\n    legend.selectAll('.g-label')\n      .data(labels)\n      .join('g')\n      .attr('class', 'g-label')\n      .attr('transform', (d) => `translate(${d.dx}, 0)`)\n      .call((g) => g\n        .append('line')\n        .attr('x1', -this.width / 2 + offset)\n        .attr('y1', this.height / 2 - offset)\n        .attr('x2', -this.width / 2 + offset)\n        .attr('y2', this.height / 2 - offset - 25)\n        .attr('stroke', color.black))\n      .call((g) => g\n        .append('text')\n        .attr('x', -this.width / 2 + offset + 2)\n        .attr('y', this.height / 2 - offset - 25)\n        .attr('dominant-baseline', 'hanging')\n        .style('font-size', '0.7rem')\n        .text((d) => d.label));\n\n    legend.selectAll('.g-marker')\n      .data(markers)\n      .join('g')\n      .attr('class', 'g-marker')\n      .attr('transform', (d) => `translate(${d.dx}, 0)`)\n      .call((g) => g\n        .append('circle')\n        .attr('cx', -this.width / 2 + offset)\n        .attr('cy', this.height / 2 - offset)\n        .attr('r', this.config.circleRadius)\n        .attr('fill', color.polGrayLight))\n      .call((g) => g\n        .append('circle')\n        .attr('cx', -this.width / 2 + offset)\n        .attr('cy', this.height / 2 - offset)\n        .attr('r', (d) => this.scales.c(d.value))\n        .attr('fill', color.polGray));\n\n    return this;\n  }\n\n  updateMinistry(requests) {\n    this.requests = requests;\n    this.resetInteractions();\n\n    return this\n      .prepareData()\n      .drawData();\n  }\n\n  prepareData() {\n    const { internalFormat } = this.formats;\n\n    const outliers = this.requests\n      .filter((d) => d.date < this.dates.start || d.date > this.dates.end);\n    if (outliers.length) {\n      console.warn('Requests outside of election period', `[${outliers.length}]`, outliers);\n    }\n\n    const groupedRequests = d3.group(this.requests, (d) => internalFormat(d.date));\n    this.bins = new Map(this.monthKeys.map((month) => {\n      if (!groupedRequests.has(month)) {\n        return [month, this.parties.map((party) => ({ party, count: 0 }))];\n      }\n\n      const requests = groupedRequests.get(month);\n      const parties = requests.flatMap((d) => d.parties);\n      const count = d3.rollup(parties, (v) => v.length, (d) => d);\n      const values = this.parties\n        .map((party) => {\n          const c = d3.sum(party.split(';').map((p) => (count.has(p) ? count.get(p) : 0)));\n          return { party, count: c };\n        });\n\n      return [month, values];\n    }));\n\n    return this;\n  }\n\n  setUpSVG() {\n    this.svg = d3.select(this.selector)\n      .append('svg')\n      .attr('viewBox', [\n        -this.width / 2,\n        -this.height / 2,\n        this.width,\n        this.height])\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('stroke-linejoin', 'round')\n      .attr('stroke-linecap', 'round')\n      .on('click', () => this.resetInteractions())\n      .on('mouseleave', () => this.resetInteractions());\n\n    return this;\n  }\n\n  setUpScales() {\n    const { innerRadius, outerRadius } = this.config;\n\n    const lastMonth = this.months[this.months - 1];\n    const months = [...this.months, d3.timeMonth.offset(lastMonth, 1)];\n\n    this.scales.x = d3.scalePoint()\n      .domain(months.map(this.formats.internalFormat))\n      .range([0, 2 * Math.PI]);\n\n    this.scales.y = d3.scaleBand()\n      .domain(this.parties)\n      .range([innerRadius, outerRadius]);\n\n    this.scales.c = d3.scaleSqrt()\n      .domain([1, this.maxValue])\n      .range([1, this.config.circleRadius]);\n\n    return this;\n  }\n\n  drawAxes() {\n    const { x, y } = this.scales;\n    const { innerRadius, outerRadius, unit } = this.config;\n    const { internalFormat } = this.formats;\n    const { short, long } = this.dateOptions;\n\n    const xAxis = (grid) => grid\n      .call((g) => g.selectAll('g')\n        .data(this.months.map((date, i) => ({\n          date,\n          x: this.formats.internalFormat(date),\n          isOrigin: i === 0,\n          isVisible: i === 0 || date.getMonth() % 3 === 0,\n          isMajor: i === 0 || date.getMonth() === 0,\n          offset: date.getMonth() === 0 || i === 0 ? 3 * unit : unit,\n        })))\n        .join('g')\n        .attr('font-size', '0.7rem')\n        .call((tick) => tick\n          .append('path')\n          .attr('class', (d) => [\n            'x-tick--line',\n            `x-tick--line-${d.isMajor ? 'major' : 'minor'}`,\n            `x-tick--line-${d.x}`,\n          ].join(' '))\n          .classed('x-tick--line-origin', (d) => d.isOrigin)\n          .classed('x-tick--line-visible', (d) => d.isVisible)\n          .attr('stroke', color.gray300)\n          .attr('stroke-dasharray', (d) => (d.isOrigin ? 'none' : '2 4'))\n          .attr('opacity', (d) => +d.isVisible)\n          .attr('d', (d, i) => [\n            `M${d3.pointRadial(x(d.x), outerRadius + d.offset + (i === 0 ? 2 * unit : 0))}`,\n            `L${d3.pointRadial(x(d.x), innerRadius - 2 * unit)}`,\n          ].join(' ')))\n        .call((tick) => tick\n          .append('path')\n          .attr('id', (_, i) => `x-tick--text-path-${i}`)\n          .attr('stroke', 'none')\n          .attr('fill', 'none')\n          .attr('d', (d) => {\n            const r = outerRadius + d.offset - unit;\n            const endDate = this.mapRadialDate(d3.timeMonth.offset(d.date, 2));\n            return [\n              `M${d3.pointRadial(x(d.x), r)}`,\n              `A${r},${r} 0,0,1 ${d3.pointRadial(x(internalFormat(endDate)), r)}`,\n            ].join(' ');\n          }))\n        .call((tick) => tick\n          .append('text')\n          .attr('class', (d) => [\n            'x-tick--label',\n            `x-tick--label-${d.isMajor ? 'major' : 'minor'}`,\n            `x-tick--label-${d.x}`,\n          ].join(' '))\n          .classed('x-tick--label-visible', (d) => d.isVisible)\n          .attr('opacity', (d) => d.isVisible)\n          .append('textPath')\n          .attr('startOffset', 5)\n          .attr('xlink:href', (_, i) => `#x-tick--text-path-${i}`)\n          .text((d) => d.date.toLocaleDateString('de-DE', d.isMajor ? long : short)))\n        .call((tick) => tick\n          .append('path')\n          .attr('class', (d) => [\n            'x-tick--arc',\n            `x-tick--arc-${d.x}`,\n          ].join(' '))\n          .attr('fill', 'none')\n          .attr('stroke', color.gray300)\n          .attr('stroke-dasharray', '2 4')\n          .attr('opacity', 0)\n          .attr('d', (d) => {\n            const startDate = this.mapRadialDate(d3.timeMonth.offset(d.date, -8));\n            const endDate = this.mapRadialDate(d3.timeMonth.offset(d.date, 8), false);\n            const r = innerRadius - 3 * unit;\n            return [\n              `M${d3.pointRadial(x(internalFormat(startDate)), r)}`,\n              `A${r},${r} 0,0,1 ${d3.pointRadial(x(internalFormat(endDate)), r)}`,\n            ].join(' ');\n          })));\n\n    const xGrid = (grid) => grid\n      .selectAll('g')\n      .data(this.parties)\n      .join('g')\n      .call((g) => g\n        .append('circle')\n        .attr('r', (party) => y(party))\n        .attr('fill', 'none')\n        .attr('stroke', (party) => LIGHT_COLOR.get(party.split(';')[0])));\n\n    this.svg.append('g')\n      .attr('class', 'axis axis-x')\n      .call(xAxis);\n\n    this.svg.append('g')\n      .attr('class', 'grid grid-x')\n      .call(xGrid);\n\n    return this;\n  }\n\n  drawInfo() {\n    this.svg.append('g')\n      .attr('class', 'info')\n      .selectAll('text')\n      .data([\n        { type: 'interact', text: ['Fahre mit der Maus über die Grafik,', 'um einzelne Anfragen zu sehen'] },\n        { type: 'reset', text: ['Klicke um zurückzusetzen'] },\n      ])\n      .join('text')\n      .attr('class', (d) => `text-info--${d.type}`)\n      .attr('y', -this.height / 2 + 12)\n      .attr('opacity', (d) => +(d.type === 'interact'))\n      .style('font-size', '0.8rem')\n      .style('font-style', 'italic')\n      .selectAll('tspan')\n      .data((d) => d.text)\n      .join('tspan')\n      .attr('x', -this.width / 2 + 12)\n      .attr('dy', 12)\n      .text((d) => d);\n\n    return this;\n  }\n\n  drawQuestions(month) {\n    const { innerRadius, questionsRadius, questionSize } = this.config;\n    const { internalFormat } = this.formats;\n    const n = this.parties.length;\n\n    const requests = [];\n    this.requests\n      .filter((d) => internalFormat(d.date) === month)\n      .forEach((d, i) => d.parties.forEach((party) => {\n        const cluster = this.parties.includes(party)\n          ? this.parties.findIndex((p) => p === party) : n;\n        const angle = (cluster / n) * Math.PI * 2;\n        const focusX = (innerRadius / 4) * Math.cos(angle) + Math.random() * 5;\n        const focusY = (innerRadius / 4) * Math.sin(angle) + Math.random() * 5;\n        requests.push({\n          requestId: i,\n          data: d,\n          party,\n          cluster,\n          focusX,\n          focusY,\n          x: focusX,\n          y: focusY,\n        });\n      }));\n\n    const g = this.svg.append('g')\n      .attr('class', 'center center-requests')\n      .selectAll('g')\n      .data(requests)\n      .join('g')\n      .attr('class', (d) => `question-mark question-mark--${d.requestId}`);\n\n    const circle = g\n      .append('a')\n      .attr('href', (d) => d.data.url)\n      .attr('target', '_blank')\n      .append('circle')\n      .attr('r', questionsRadius + 2)\n      .attr('fill', (d) => LIGHT_COLOR.get(d.party.split(';')[0]))\n      .attr('opacity', 0)\n      .on('mousemove', (event, d) => {\n        // highlight identical requests\n        d3.selectAll(`.question-mark--${d.requestId} circle`)\n          .attr('opacity', 1);\n\n        let type = 'Anfrage';\n        if (['minor', 'major', 'written'].includes(d.data.type)) {\n          type = {\n            minor: 'Kleine Anfrage',\n            major: 'Große Anfrage',\n            written: 'Schriftliche Anfrage',\n          }[d.data.type];\n        }\n\n        let people = '';\n        if (d.data.inquiringPeople.length === 1) {\n          [people] = d.data.inquiringPeople;\n        } else if (d.data.inquiringPeople.length === 2) {\n          const [p1, p2] = d.data.inquiringPeople;\n          people = `${p1} und ${p2}`;\n        } else if (d.data.inquiringPeople.length > 2) {\n          const ps = d.data.inquiringPeople.slice(0, d.data.inquiringPeople.length - 1);\n          const p = d.data.inquiringPeople[d.data.inquiringPeople.length - 1];\n          people = `${ps.join(', ')} und ${p}`;\n        }\n\n        let parties = '';\n        if (d.data.parties.length > 0) {\n          parties = d.data.parties.join(', ');\n        }\n\n        // show tooltip\n        const left = Math.min(window.innerWidth - 300, event.pageX);\n        const date = d.data.date.toLocaleDateString('de-DE', this.dateOptions.date);\n        d3.select('.tooltip-question')\n          .style('left', `${left}px`)\n          .style('top', `${event.pageY}px`)\n          .style('border-color', COLOR.get(d.party.split(';')[0]))\n          .style('opacity', 1)\n          .html([\n            `<div class=\"above-title\">${type} (${this.term}/${d.data.reference})</div>`,\n            `<h4>${d.data.title}</h4>`,\n            `<p><i>eingereicht am </i>${date}</p>`,\n            people ? `<p><i>von</i> ${people} (${parties})</p>` : `<p><i>von</i> ${parties}</p>`,\n            '<p class=\"note\"><i>Ein Klick bringt dich zum entsprechenden Eintrag auf kleineAnfragen.de</i></p>',\n          ].join(''));\n      })\n      .on('mouseleave', () => {\n        d3.selectAll('.question-mark circle')\n          .attr('opacity', 0);\n\n        d3.select('.tooltip-question')\n          .style('opacity', 0);\n      })\n      .on('click', (event) => {\n        event.stopPropagation();\n      });\n\n    const text = g\n      .append('text')\n      .attr('text-anchor', 'middle')\n      .attr('dominant-baseline', 'middle')\n      .attr('fill', (d) => COLOR.get(d.party.split(';')[0]))\n      .style('font-size', questionSize)\n      .style('font-weight', 'bold')\n      .style('pointer-events', 'none')\n      .text('?');\n\n    const simulation = d3.forceSimulation()\n      .force('collide', forceClusterCollision()\n        .radius(questionsRadius + 1)\n        .strength(0.8)\n        .clusterPadding(10))\n      .force('x', d3.forceX().x((d) => d.focusX).strength(0.2))\n      .force('y', d3.forceY().y((d) => d.focusY).strength(0.2));\n\n    function ticked() {\n      circle\n        .attr('cx', (d) => d.x)\n        .attr('cy', (d) => d.y);\n      text\n        .attr('x', (d) => d.x)\n        .attr('y', (d) => d.y);\n    }\n\n    simulation.nodes(requests).on('tick', ticked);\n\n    return this;\n  }\n\n  setUpGrid() {\n    this.svg.append('g')\n      .attr('class', 'ring')\n      .selectAll('g')\n      .data(this.monthKeys)\n      .join('g')\n      .attr('class', (month) => `g-bin g-bin-${month}`);\n\n    return this;\n  }\n\n  drawData() {\n    const { x, y, c } = this.scales;\n    const {\n      circleRadius, innerRadius, outerRadius, unit,\n    } = this.config;\n\n    const onMouseOver = (_, d) => {\n      this.resetInteractions();\n\n      // disable interaction on circles of the same bin\n      d3.selectAll(`.circle-outer-${d.month}`)\n        .style('pointer-events', 'none');\n\n      // info text\n      d3.select('.text-info--interact').attr('opacity', 0);\n      d3.select('.text-info--reset').attr('opacity', 1);\n\n      // make rest of the chart opacque\n      d3.selectAll('.grid-x circle').attr('opacity', 0.4);\n      d3.selectAll(`.g-bin:not(.g-bin-${d.month}) circle`).attr('fill-opacity', 0.4);\n\n      // show x label and lines\n      d3.select(`.x-tick--label-${d.month}`)\n        .attr('opacity', 1)\n        .style('font-weight', 'bold');\n      d3.select(`.x-tick--line-${d.month}`)\n        .attr('opacity', 1)\n        .attr('d', (e, i) => [\n          `M${d3.pointRadial(x(e.x), outerRadius + e.offset + (i.isOrigin ? 2 * unit : 0))}`,\n          `L${d3.pointRadial(x(e.x), innerRadius - 3 * unit)}`,\n        ].join(' '));\n      d3.select(`.x-tick--arc-${d.month}`).attr('opacity', 1);\n\n      this.drawQuestions(d.month);\n    };\n\n    this.monthKeys.forEach((month) => {\n      const bin = this.bins.get(month)\n        .map(({ party, count }) => ({\n          party,\n          count,\n          month,\n          point: d3.pointRadial(x(month), y(party)),\n        }));\n\n      const outer = bin.map((d) => ({ ...d, ...{ isInner: false, r: circleRadius } }));\n      const inner = bin.map((d) => ({ ...d, ...{ isInner: true, r: c(d.count) } }));\n\n      this.svg\n        .select(`.ring .g-bin-${month}`)\n        .selectAll('circle')\n        .data(outer.concat(inner), (d) => `${d.party}-${d.isInner}`)\n        .join(\n          (enter) => enter\n            .append('circle')\n            .attr('class', (d) => {\n              const type = d.isInner ? 'inner' : 'outer';\n              return `circle-${type} circle-${type}-${d.month}`;\n            })\n            .attr('cx', (d) => d.point[0])\n            .attr('cy', (d) => d.point[1])\n            .attr('r', (d) => (d.count > 0 ? d.r : 0))\n            .attr('fill', (d) => (d.isInner ? COLOR : LIGHT_COLOR).get(d.party.split(';')[0]))\n            .style('pointer-events', (d) => (d.isInner ? 'none' : 'unset'))\n            .on('mouseover', onMouseOver),\n          (update) => update\n            .call((u) => u\n              .transition()\n              .duration(600)\n              .attr('r', (d) => (d.count > 0 ? d.r : 0))),\n        );\n    });\n\n    return this;\n  }\n\n  resetInteractions() {\n    const { x } = this.scales;\n    const { innerRadius, outerRadius, unit } = this.config;\n\n    // enable interactions\n    d3.selectAll('.circle-outer')\n      .style('pointer-events', 'unset');\n\n    // hide tooltip\n    d3.select('.tooltip-question').style('opacity', 0);\n\n    // info text\n    d3.select('.text-info--interact').attr('opacity', 1);\n    d3.select('.text-info--reset').attr('opacity', 0);\n\n    // reset the grid and ring\n    d3.selectAll('.grid-x circle').attr('opacity', 1);\n    d3.selectAll('.g-bin circle').attr('fill-opacity', 1);\n\n    // reset tick labels\n    d3.selectAll('.x-tick--label').style('font-weight', 'normal');\n    d3.selectAll('.x-tick--label-minor').attr('opacity', 0);\n    d3.selectAll('.x-tick--label-visible').attr('opacity', 1);\n\n    // reset tick lines\n    d3.selectAll('.x-tick--line')\n      .attr('d', (e, i) => [\n        `M${d3.pointRadial(x(e.x), outerRadius + e.offset + (i.isOrigin ? 2 * unit : 0))}`,\n        `L${d3.pointRadial(x(e.x), innerRadius - 2 * unit)}`,\n      ].join(' '));\n    d3.selectAll('.x-tick--line-minor').attr('opacity', 0);\n    d3.selectAll('.x-tick--line-visible').attr('opacity', 1);\n\n    // hide arcs\n    d3.selectAll('.x-tick--arc').attr('opacity', 0);\n\n    // hide requests\n    d3.select('.center-requests').remove();\n  }\n\n  mapRadialDate(date, forward = true) {\n    if (this.monthKeys.includes(this.formats.internalFormat(date))) return date;\n\n    if (forward) {\n      const offset = d3.timeMonth.count(date, this.months[0]);\n      return this.months[this.months.length - offset];\n    }\n\n    const offset = d3.timeMonth.count(this.months[this.months.length - 1], date);\n    return this.months[offset - 1];\n  }\n}\n","import d3 from '@/assets/d3';\n\nimport color from '@/assets/style/_global.scss';\n\nexport default class MinistryLegend {\n  constructor(selector) {\n    this.selector = selector;\n\n    this.svg = null;\n    this.width = 50;\n    this.height = 20;\n  }\n\n  draw() {\n    this.svg = d3.select(this.selector)\n      .append('svg')\n      .attr('viewBox', [\n        0,\n        0,\n        this.width,\n        this.height])\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('overflow', 'visible');\n\n    const x = 0;\n    const c = color.black;\n\n    this.svg.append('line')\n      .attr('x1', x)\n      .attr('y1', 0.35 * this.height)\n      .attr('x2', x)\n      .attr('y2', this.height)\n      .attr('stroke', c);\n\n    this.svg.append('line')\n      .attr('x1', x - 3)\n      .attr('y1', this.height - 5)\n      .attr('x2', x)\n      .attr('y2', this.height)\n      .attr('stroke', c);\n\n    this.svg.append('line')\n      .attr('x1', x + 3)\n      .attr('y1', this.height - 5)\n      .attr('x2', x)\n      .attr('y2', this.height)\n      .attr('stroke', c);\n\n    this.svg.append('text')\n      .attr('x', x)\n      .attr('y', 0.3 * this.height - 2)\n      .attr('fill', c)\n      .attr('text-anchor', 'middle')\n      .style('font-size', '0.7rem')\n      .text('Anzahl der Anfragen');\n\n    return this;\n  }\n}\n","<template>\n  <div class=\"ministry-button-group\">\n    <ministry-button\n      v-for=\"(ministry, i) in ministries\"\n      :key=i\n      :id=i\n      :value=ministry.name\n      :active=\"ministry.name === selectedMinistry\"\n      :requests=ministry.requests\n      :maxValue=nRequests\n      :sortedParties=sortedParties\n      @clicked=\"onClick\" />\n  </div>\n</template>\n\n<script>\nimport MinistryButton from './MinistryButton.vue';\n\nexport default {\n  name: 'MinistryButtonGroup',\n  components: {\n    MinistryButton,\n  },\n  props: {\n    ministries: Array,\n    sortedParties: Array,\n  },\n  emits: ['selected'],\n  data() {\n    return {\n      selectedMinistry: null,\n    };\n  },\n  computed: {\n    nRequests() {\n      if (this.ministries === null) return null;\n      return this.ministries[0].requests\n        .flatMap((d) => d.parties).length;\n    },\n  },\n  created() {\n    if (this.ministries !== null) {\n      this.selectedMinistry = this.ministries[0].name;\n    }\n  },\n  updated() {\n    if (this.selectedMinistry === null && this.ministries !== null) {\n      this.selectedMinistry = this.ministries[0].name;\n    }\n  },\n  methods: {\n    onClick(selectedMinistry) {\n      this.selectedMinistry = selectedMinistry;\n      this.$emit('selected', selectedMinistry);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/global';\n\n.ministry-button-group {\n  overflow-y: auto;\n  margin-bottom: 0.5 * $spacing;\n}\n</style>\n","<template>\n  <button\n    :class=classes\n    @click=\"onClick\"\n    @mouseenter=\"chart.showColors\"\n    @mouseleave=\"updateChartColor\" >\n    <div class=\"label\">\n      {{ value ? value : '(Nicht bekannt)' }}\n    </div>\n    <div\n      :id=chartId\n      class=\"chart chart-ministry\" />\n  </button>\n</template>\n\n<script>\nimport MinistryChart from '@/core/MinistryChart';\n\nexport default {\n  name: 'MinistryButton',\n  props: {\n    id: Number,\n    value: String,\n    active: Boolean,\n    requests: Array,\n    maxValue: Number,\n    sortedParties: Array,\n  },\n  emits: ['clicked'],\n  data() {\n    return {\n      chart: null,\n    };\n  },\n  computed: {\n    classes() {\n      return {\n        'ministry-button': true,\n        active: this.active,\n      };\n    },\n    chartId() {\n      return `chart-ministry-${this.id}`;\n    },\n  },\n  mounted() {\n    const chartDiv = this.$el.querySelector('.chart-ministry');\n    this.chart = new MinistryChart(\n      `#${chartDiv.id}`,\n      this.requests,\n      this.maxValue,\n      this.sortedParties,\n    ).draw();\n\n    this.updateChartColor();\n  },\n  updated() {\n    this.updateChartColor();\n  },\n  methods: {\n    onClick() {\n      this.$emit('clicked', this.value);\n    },\n    updateChartColor() {\n      if (this.active) {\n        this.chart.showColors();\n      } else {\n        this.chart.hideColors();\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/global';\n\n.ministry-button {\n  width: 100%;\n  margin: $spacing / 4 0;\n  padding: 0.25 * $spacing;\n\n  border: 1px solid white;\n  border-radius: $border-radius-weak;\n\n  display: grid;\n  grid-template-columns: 1fr 50px;\n  gap: 0.5 * $spacing;\n  align-items: center;\n\n  background-color: white;\n  transition: all .2s;\n\n  font-size: 0.9rem;\n\n  &:first-of-type {\n    margin-top: 0;\n  }\n\n  &:hover {\n    border-color: $primary;\n  }\n\n  &.active {\n    border-color: $primary;\n    font-weight: bold;\n    outline: none;\n  }\n\n  .label {\n    justify-self: start;\n    text-align: left;\n  }\n\n  .chart {\n    justify-self: end;\n  }\n}\n</style>\n","import d3 from '@/assets/d3';\n\nimport { COLOR } from '@/core/CONSTANTS';\n\nimport color from '@/assets/style/_global.scss';\n\nexport default class MinistryChart {\n  constructor(selector, requests, maxRequests, sortedParties) {\n    this.selector = selector;\n    this.requests = requests;\n    this.maxRequests = maxRequests;\n    this.sortedParties = sortedParties;\n\n    this.svg = null;\n    this.width = 50;\n    this.height = 25;\n\n    this.nRequests = null;\n    this.parties = null;\n    this.partyCount = null;\n  }\n\n  draw() {\n    return this\n      .setUpSVG()\n      .setUpScales()\n      .prepareData()\n      .drawData();\n  }\n\n  setUpSVG() {\n    this.svg = d3.select(this.selector)\n      .append('svg')\n      .attr('viewBox', [0, 0, this.width, this.height])\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('overlap', 'visible');\n    return this;\n  }\n\n  setUpScales() {\n    this.x = d3.scaleLinear()\n      .domain([0, this.maxRequests])\n      .range([0, this.width]);\n    return this;\n  }\n\n  showColors() {\n    this.svg.selectAll('.rect-party')\n      .attr('fill', (d) => COLOR.get(d.party));\n    return this;\n  }\n\n  hideColors() {\n    this.svg.selectAll('.rect-party')\n      .attr('fill', color.gray300);\n    return this;\n  }\n\n  prepareData() {\n    this.nRequests = this.requests.length;\n    this.parties = this.requests.flatMap((d) => d.parties);\n\n    this.partyCount = d3\n      .rollups(this.parties, (v) => v.length, (d) => d)\n      .map(([party, count]) => ({ party, count }))\n      .sort((a, b) => d3.ascending(\n        this.sortedParties.findIndex((p) => p === a.party),\n        this.sortedParties.findIndex((p) => p === b.party),\n      ));\n    const cumsum = d3.cumsum(this.partyCount, (d) => d.count);\n    this.partyCount = this.partyCount\n      .map(({ party, count }, i) => ({\n        party,\n        count,\n        x: i === 0 ? 0 : cumsum[i - 1],\n      }));\n\n    return this;\n  }\n\n  drawData() {\n    this.svg.selectAll('.rect-party')\n      .data(this.partyCount)\n      .join('rect')\n      .attr('class', 'rect-party')\n      .attr('x', (d) => this.x(d.x))\n      .attr('y', this.height / 2)\n      .attr('width', (d) => (d.count / this.maxRequests) * this.width)\n      .attr('height', this.height / 2)\n      .attr('rx', 1)\n      .attr('ry', 1)\n      .attr('fill', color.gray300);\n\n    this.svg.append('text')\n      .attr('y', this.height / 2 - 2)\n      .attr('fill', color.black)\n      .style('font-size', '0.8rem')\n      .style('font-weight', 'bold')\n      .text(this.nRequests);\n\n    return this;\n  }\n}\n","import { render } from \"./MinistryButton.vue?vue&type=template&id=f36d3f70&scoped=true\"\nimport script from \"./MinistryButton.vue?vue&type=script&lang=js\"\nexport * from \"./MinistryButton.vue?vue&type=script&lang=js\"\n\nimport \"./MinistryButton.vue?vue&type=style&index=0&id=f36d3f70&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-f36d3f70\"\n\nexport default script","import { render } from \"./MinistryButtonGroup.vue?vue&type=template&id=5932bbae&scoped=true\"\nimport script from \"./MinistryButtonGroup.vue?vue&type=script&lang=js\"\nexport * from \"./MinistryButtonGroup.vue?vue&type=script&lang=js\"\n\nimport \"./MinistryButtonGroup.vue?vue&type=style&index=0&id=5932bbae&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5932bbae\"\n\nexport default script","import { render } from \"./Popup.vue?vue&type=template&id=1a278433&scoped=true\"\nimport script from \"./Popup.vue?vue&type=script&lang=js\"\nexport * from \"./Popup.vue?vue&type=script&lang=js\"\n\nimport \"./Popup.vue?vue&type=style&index=0&id=1a278433&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1a278433\"\n\nexport default script","<template>\n  <h1>\n    <a class=\"no-style kleine-anfragen\" href=\"https://kleineanfragen.de/\" target=\"_blank\">\n      kleineAnfragen\n    </a>\n    <span class=\"visualised\"> visualisiert</span>\n  </h1>\n</template>\n\n<script>\nexport default {\n  name: 'Heading',\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/global';\n\nh1 {\n  border-bottom: 1px solid $black;\n  text-align: center;\n  padding-bottom: 5px;\n\n  .kleine-anfragen {\n    font-family: 'Raleway', sans-serif;\n    text-decoration: none;\n    color: inherit;\n  }\n\n  .visualised {\n    font-family: 'Quicksand', sans-serif;\n    font-weight: bold;\n  }\n}\n</style>\n","import { render } from \"./Heading.vue?vue&type=template&id=ac16cc70&scoped=true\"\nimport script from \"./Heading.vue?vue&type=script&lang=js\"\nexport * from \"./Heading.vue?vue&type=script&lang=js\"\n\nimport \"./Heading.vue?vue&type=style&index=0&id=ac16cc70&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-ac16cc70\"\n\nexport default script","<template>\n  <div class=\"meta\">\n    <div>\n      <div class=\"meta-section--title\">Autorin</div>\n      <div class=\"meta-section--content\">\n        Sophia Mersmann\n        <a href=\"https://sophiamersmann.github.io/portfolio/\" target=\"_blank\">\n          (Portfolio)\n        </a>\n      </div>\n    </div>\n    <div>\n      <div class=\"meta-section--title\">Veröffentlicht am</div>\n      <div class=\"meta-section--content\">26.1.2021</div>\n    </div>\n    <div>\n      <div class=\"meta-section--title\">Source Code</div>\n      <div class=\"meta-section--content\">\n        <a href=\"https://github.com/sophiamersmann/kleine-anfragen-visualised\" target=\"_blank\">\n          Verfügbar auf GitHub\n        </a>\n      </div>\n    </div>\n    <div>\n      <div class=\"meta-section--title\">Kontakt</div>\n      <div class=\"meta-section--content\">\n        <a class=\"contact-information\" href=\"mailto:sophia.mersmann.blog@gmail.com\" target=\"_blank\">\n          sophia.mersmann.blog@gmail.com\n        </a>\n        <a class=\"contact-information\" href=\"https://twitter.com/sophiamersmann\" target=\"_blank\">\n          Twitter\n        </a>\n        <a class=\"contact-information\" href=\"https://github.com/sophiamersmann\" target=\"_blank\">\n          GitHub\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'MetaInfo',\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/global';\n\n.meta {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n  max-width: $text-max-width;\n  gap: $spacing / 2;\n  margin: 0 auto;\n  line-height: 1.5;\n\n  .meta-section--title {\n    font-weight: bold;\n    margin-bottom: 5px;\n  }\n\n  .meta-section--content {\n    line-height: 1.3;\n  }\n}\n\n.contact-information {\n  margin-right: 4px;\n\n  &[href*=\"mailto:\"] {\n    @include max-width($bp-lg) {\n      overflow-wrap: break-word;\n    }\n  }\n}\n</style>\n","import { render } from \"./MetaInfo.vue?vue&type=template&id=0ee5946c&scoped=true\"\nimport script from \"./MetaInfo.vue?vue&type=script&lang=js\"\nexport * from \"./MetaInfo.vue?vue&type=script&lang=js\"\n\nimport \"./MetaInfo.vue?vue&type=style&index=0&id=0ee5946c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0ee5946c\"\n\nexport default script","<template>\n  <div class=\"legend\">\n    Ein:e Abgeordnete:r einer <b>Oppositions-</b> oder Regierungspartei war beteiligt an\n    <div\n      class=\"legend-line\"\n      v-for=\"(line, i) in legendLines\"\n      :key=i\n    >\n      <div class=\"legend-line--chart\" :id=line.chartId />\n      <div class=\"legend-line--label\">{{ line.label }}</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport d3 from '@/assets/d3';\n\nimport ParliamentLegend from '@/core/ParliamentLegend';\n\nexport default {\n  name: 'LegendText',\n  data() {\n    return {\n      legendLines: [\n        { chartId: 'legend-line--chart-1', category: '<1 per year', label: 'weniger als einer Anfrage im Jahr' },\n        { chartId: 'legend-line--chart-2', category: '>=1 per year', label: 'mehr als einer Anfrage im Jahr' },\n        { chartId: 'legend-line--chart-3', category: '>=1 per month', label: 'mehr als einer Anfrage im Monat' },\n        { chartId: 'legend-line--chart-4', category: '>=1 per week', label: 'mehr als einer Anfrage in der Woche' },\n        { chartId: 'legend-line--chart-5', category: '>=1 per day', label: 'mehr als einer Anfrage am Tag' },\n      ],\n    };\n  },\n  mounted() {\n    const categories = this.legendLines.map((d) => d.category);\n    categories.unshift('0');\n\n    const scale = d3.scalePoint()\n      .domain(categories)\n      .range([0, 5]);\n\n    this.legendLines.forEach((d) => {\n      new ParliamentLegend(`#${d.chartId}`, d.category, scale).draw();\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/style/global';\n\n.legend {\n  background-color: white;\n  padding: $spacing / 4 $spacing / 2;\n  border-radius: $border-radius-weak;\n  margin: $spacing / 2 0;\n\n  .legend-line {\n    display: flex;\n    align-items: baseline;\n    margin-left: $spacing;\n  }\n\n  .legend-line--chart {\n    margin-right: 10px;\n  }\n\n  .legend-line--label {\n    line-height: 1.15;\n  }\n}\n</style>\n","import d3 from '@/assets/d3';\n\nimport color from '@/assets/style/_global.scss';\n\nexport default class ParliamentLegend {\n  constructor(selector, category, scale) {\n    this.selector = selector;\n    this.category = category;\n    this.scale = scale;\n\n    this.radius = 5;\n\n    this.svg = null;\n    this.width = 2 * this.radius;\n    this.height = 2 * this.radius;\n  }\n\n  draw() {\n    this.svg = d3.select(this.selector)\n      .append('svg')\n      .attr('viewBox', [\n        -this.width / 2,\n        -this.height / 2,\n        this.width,\n        this.height])\n      .attr('width', this.width)\n      .attr('height', this.height);\n\n    const { category: c } = this;\n\n    this.svg.append('circle')\n      .attr('r', this.radius)\n      .attr('fill', c === '0' || c === '<1 per year' ? color.gray100 : color.polGrayLight);\n\n    this.svg.append('circle')\n      .attr('r', this.scale(c))\n      .attr('fill', color.polGray);\n\n    return this;\n  }\n}\n","import { render } from \"./LegendText.vue?vue&type=template&id=7d90013b&scoped=true\"\nimport script from \"./LegendText.vue?vue&type=script&lang=js\"\nexport * from \"./LegendText.vue?vue&type=script&lang=js\"\n\nimport \"./LegendText.vue?vue&type=style&index=0&id=7d90013b&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-7d90013b\"\n\nexport default script","import { render } from \"./Root.vue?vue&type=template&id=86dd7a9c\"\nimport script from \"./Root.vue?vue&type=script&lang=js\"\nexport * from \"./Root.vue?vue&type=script&lang=js\"\n\nimport \"./Root.vue?vue&type=style&index=0&id=86dd7a9c&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=39fd77f5\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue';\nimport App from './App.vue';\n\nimport 'normalize.css';\nimport '@/assets/style/base.scss';\n\ncreateApp(App).mount('#app');\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"black\":\"#22262a\",\"gray50\":\"#FAFAFA\",\"gray100\":\"#F4F4F5\",\"gray200\":\"#E4E4E7\",\"gray300\":\"#D4D4D8\",\"gray400\":\"#A1A1AA\",\"gray500\":\"#71717A\",\"gray600\":\"#52525B\",\"gray700\":\"#3F3F46\",\"gray800\":\"#27272A\",\"gray900\":\"#18181B\",\"polBrown\":\"#bc8429\",\"polBrownLight\":\"#e8d4b4\",\"polBlue\":\"#34a3d2\",\"polBlueLight\":\"#b8dfef\",\"polOrange\":\"#f17204\",\"polOrangeLight\":\"#facea7\",\"polYellow\":\"#f6bb00\",\"polYellowLight\":\"#fce7a6\",\"polBlack\":\"#373737\",\"polBlackLight\":\"#b9b9b9\",\"polRed\":\"#db4240\",\"polRedLight\":\"#f2bdbc\",\"polGray\":\"#64748B\",\"polGrayLight\":\"#c9ced6\",\"polGreen\":\"#4ba345\",\"polGreenLight\":\"#c0dfbe\",\"polPurple\":\"#96276e\",\"polPurpleLight\":\"#dab3cc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"black\":\"#22262a\",\"gray50\":\"#FAFAFA\",\"gray100\":\"#F4F4F5\",\"gray200\":\"#E4E4E7\",\"gray300\":\"#D4D4D8\",\"gray400\":\"#A1A1AA\",\"gray500\":\"#71717A\",\"gray600\":\"#52525B\",\"gray700\":\"#3F3F46\",\"gray800\":\"#27272A\",\"gray900\":\"#18181B\",\"polBrown\":\"#bc8429\",\"polBrownLight\":\"#e8d4b4\",\"polBlue\":\"#34a3d2\",\"polBlueLight\":\"#b8dfef\",\"polOrange\":\"#f17204\",\"polOrangeLight\":\"#facea7\",\"polYellow\":\"#f6bb00\",\"polYellowLight\":\"#fce7a6\",\"polBlack\":\"#373737\",\"polBlackLight\":\"#b9b9b9\",\"polRed\":\"#db4240\",\"polRedLight\":\"#f2bdbc\",\"polGray\":\"#64748B\",\"polGrayLight\":\"#c9ced6\",\"polGreen\":\"#4ba345\",\"polGreenLight\":\"#c0dfbe\",\"polPurple\":\"#96276e\",\"polPurpleLight\":\"#dab3cc\"};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LegendText.vue?vue&type=style&index=0&id=7d90013b&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MinistryButtonGroup.vue?vue&type=style&index=0&id=5932bbae&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MetaInfo.vue?vue&type=style&index=0&id=0ee5946c&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MinistryButton.vue?vue&type=style&index=0&id=f36d3f70&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ElectionPeriod.vue?vue&type=style&index=0&id=2b0ec870&lang=scss&scoped=true\""],"sourceRoot":""}